<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" id="meta-viewport" />
  <title>KzFlix Filmes & SÃ©ries</title>
  <link rel="icon" href="imagens/Kz Logo.webp" type="image/png" />
  <style>
    * { box-sizing: border-box; }

    body {
      font-family: Arial, sans-serif;
      background: #121212;
      color: #eee;
      margin: 0;
      padding: 15px 20px 20px 20px;
    }

    body.modal-aberto {
      overflow: hidden !important;
      touch-action: none !important;
      overscroll-behavior: contain !important;
      position: fixed;
      width: 100vw;
    }

    header {
      position: relative;
      padding-bottom: 10px;
      margin-bottom: 10px;
    }

    .titulo-centralizado {
      text-align: center;
    }

    .campo-busca {
      position: absolute;
      top: 0;
      right: 0;
      width: 280px;
    }

    #busca {
      width: 100%;
      padding: 12px 40px 12px 40px;
      font-size: 16px;
      border-radius: 30px;
      border: none;
      background-color: #333;
      color: #fff;
      transition: all 0.3s;
      outline: none;
      position: relative;
      z-index: 1000;
    }

    #busca::placeholder {
      color: #aaa;
    }

    .campo-busca::before {
      position: absolute;
      top: 14px;
      left: 15px;
      font-size: 18px;
      color: #aaa;
      pointer-events: none;
      user-select: none;
    }

    .lista-generos {
      position: absolute;
      top: 42px;
      right: 0;
      background: #222;
      border-radius: 0 0 8px 8px;
      width: 100%;
      max-height: 160px;
      overflow-y: auto;
      padding: 0;
      margin: 0;
      list-style: none;
      z-index: 21000;
      box-shadow: 0 4px 8px rgba(0,0,0,0.6);
      display: none;
    }

    .lista-generos li {
      padding: 10px 15px;
      cursor: pointer;
      color: #eee;
      border-bottom: 1px solid #444;
      transition: background 0.2s;
    }

    .lista-generos li:hover,
    .lista-generos li:focus {
      background: #1db954;
      color: #fff;
      outline: none;
    }

    .filtros {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
      margin-bottom: 15px;
    }

    .filtros button {
      background: #282828;
      border: none;
      color: #eee;
      padding: 10px 20px;
      margin: 0 5px 5px 0;
      cursor: pointer;
      border-radius: 5px;
      font-size: 16px;
      transition: background 0.3s;
    }

    .filtros button:hover,
    .filtros button.active {
      background: #1db954;
      color: #fff;
    }

    .lista {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 20px;
    }

    .card {
      background: #222;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,0.7);
      transition: transform 0.2s;
      position: relative;
    }

    .card:hover {
      transform: scale(1.05);
    }

    .card img {
      width: 100%;
      height: 300px;
      object-fit: cover;
      display: block;
    }

    .card-body {
      padding: 15px;
    }

    .card-title {
      font-size: 18px;
      margin: 0 0 10px;
      font-weight: bold;
    }

    .card-desc {
      font-size: 14px;
      color: #ccc;
      line-height: 1.4;
      height: 60px;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .assistir-btn {
      margin-top: 10px;
      background: #1db954;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .assistir-btn.trailer {
      background: #555;
      margin-left: 10px;
    }

    .assistir-btn:hover {
      background: #17a944;
    }

    .assistir-btn.trailer:hover {
      background: #444;
    }

    #modal-episodios {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.95);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10000;
      padding: 20px;
      overflow: auto;
    }

    #modal-episodios .modal-conteudo {
      background: #222;
      border-radius: 10px;
      padding: 20px;
      width: 100%;
      max-width: 600px;
      color: #eee;
    }

    #modal-episodios h2 {
      margin-top: 0;
      margin-bottom: 15px;
      text-align: center;
    }

    #modal-episodios select,
    #modal-episodios button {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 5px;
      border: none;
      font-size: 16px;
      cursor: pointer;
    }

    #modal-episodios select {
      background: #121212;
      color: #eee;
    }

    #modal-episodios button {
      background: #1db954;
      color: white;
    }

    #modal-episodios button:hover {
      background: #17a944;
    }

    #modal-episodios button#btn-fechar-modal {
      background: #e50914;
      margin-top: 10px;
    }

    #modal-player {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(6px);
      justify-content: center;
      align-items: center;
      z-index: 10001;
      transition: opacity 0.3s ease;
      padding: 20px;
      overflow: auto;
    }

    #modal-player.show {
      display: flex;
      opacity: 1;
    }

    #modal-player > div {
      position: relative;
      width: 100%;
      max-width: 720px;
      max-height: 60vh;
      aspect-ratio: 16 / 9;
      background: #000;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
    }

    #modal-player .fechar-player {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(229, 9, 20, 0.9);
      border: none;
      color: #fff;
      font-size: 20px;
      padding: 8px 12px;
      border-radius: 50px;
      cursor: pointer;
      z-index: 10;
      transition: background 0.3s ease;
    }

    #modal-player .fechar-player:hover {
      background: rgba(229, 9, 20, 1);
    }

    #modal-player .pular-capitulo-player {
      position: absolute;
      bottom: 18px;
      right: 18px;
      background: #1db954;
      border: none;
      color: #fff;
      font-size: 16px;
      padding: 10px 22px;
      border-radius: 30px;
      cursor: pointer;
      z-index: 12;
      transition: background 0.3s;
      display: none;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    }

    #modal-player .pular-capitulo-player:hover {
      background: #17a944;
    }

    #iframe-player {
      width: 100%;
      height: 100%;
      border: none;
      display: block;
    }

    @media (max-width: 600px) {
      .campo-busca {
        position: static;
        width: 100%;
        margin-bottom: 15px;
      }
      .lista {
        grid-template-columns: repeat(2, 1fr);
      }
      .card img {
        height: 240px;
      }
      #busca {
        padding-left: 35px;
      }

      .lista-generos {
        position: static;
        max-height: none;
        width: 100%;
        border-radius: 8px;
        margin-top: 5px;
      }
      .titulo-centralizado h1 {
      font-size: 22px;
      line-height: 1.2;
      margin-top: 10px;
      }
      .perfil-container {
        top: 10px;
        left: 10px;
      }
      .vitrine-card {
      width: 160px;
      }
      }

      .perfil-container {
        position: absolute;
        top: 15px;
        left: 15px;
        z-index: 10000;
      }

      #btn-perfil {
        background: none;
        border: none;
        color: white;
        font-size: 24px;
        cursor: pointer;
        position: relative;
        z-index: 10000;
      }

      .menu-perfil {
        display: none;
        position: absolute;
        top: 40px;
        left: 0;
        background: #222;
        border-radius: 8px;
        list-style: none;
        margin: 0;
        padding: 10px 0;
        box-shadow: 0 4px 8px rgba(0,0,0,0.6);
        min-width: 160px;
        z-index: 99999 !important;
      }
      #toggle-dark {
        position: relative;
        z-index: 30000;
      }

      .menu-perfil li {
        padding: 10px 15px;
        color: #eee;
        cursor: pointer;
        transition: background 0.2s;
      }

      .menu-perfil li:hover,
      .menu-perfil li:focus {
        background: #1db954;
        color: #fff;
      }
      body.modo-claro {
        background: #f2f2f2;
        color: #111;
      }

      body.modo-claro .card {
        background: #fff;
      }

      body.modo-claro .card-desc {
        color: #444;
      }

      body.modo-claro .assistir-btn {
        background: #1db954;
        color: white;
      }

      body.modo-claro .assistir-btn.trailer {
        background: #ccc;
        color: #000;
      }

      body.modo-claro .filtros button {
        background: #ddd;
        color: #111;
      }

      body.modo-claro .filtros button.active {
        background: #1db954;
        color: #fff;
      }

      body.modo-claro #busca {
        background: #ddd;
        color: #000;
      }

      body.modo-claro .lista-generos {
        background: #f2f2f2;
        color: #111;
      }

      body.modo-claro .menu-perfil {
        background: #fff;
        color: #000;
      }
      .kz-vermelho {
        color: #e50914;
      }

      .kz-texto {
        color: #fff;
      }

      body.modo-claro .kz-texto {
        color: #111;
      }
      .vitrine {
        display: flex;
        overflow-x: auto;
        gap: 15px;
        padding-bottom: 10px;
      }

      .vitrine::-webkit-scrollbar {
        height: 8px;
      }
      .vitrine::-webkit-scrollbar-thumb {
        background: #333;
        border-radius: 4px;
      }

      .vitrine-card {
        flex: 0 0 auto;
        width: 200px;
        background: #222;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.7);
      }

      .vitrine-card img {
        width: 100%;
        height: 260px;
        object-fit: cover;
      }

      .vitrine-card h3 {
        font-size: 16px;
        margin: 10px;
        color: #fff;
      }
      body.modo-claro .vitrine-card {
        background: #fff;
      }
      body.modo-claro .vitrine-card h3 {
        color: #000;
      }
      .secao-titulo {
        font-size: 24px;
        color: #fff;
        margin-bottom: 15px;
      }

      body.modo-claro .secao-titulo {
        color: #111;
      }

      .vitrine-scroll {
        display: flex;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
        gap: 20px;
        padding-bottom: 10px;
        scroll-behavior: smooth;
        padding-left: 10px;
      }

      .vitrine-scroll::-webkit-scrollbar {
        height: 8px;
      }

      .vitrine-scroll::-webkit-scrollbar-thumb {
        background: #444;
        border-radius: 4px;
      }

      .vitrine-card {
        flex: 0 0 auto;
        width: 200px;
        scroll-snap-align: start;
        position: relative;
        background: #222;
        border-radius: 10px;
        overflow: hidden;
        cursor: pointer;
        transition: transform 0.3s ease;
      }

      .vitrine-card:hover {
        transform: scale(1.05);
      }

      .vitrine-card img {
        width: 100%;
        height: 280px;
        object-fit: cover;
        display: block;
      }

      .vitrine-info {
        position: absolute;
        bottom: 0;
        background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
        width: 100%;
        padding: 10px;
        color: #fff;
        text-shadow: 1px 1px 2px #000;
        transition: opacity 0.3s;
      }

      .vitrine-card:hover .vitrine-info {
        opacity: 1;
      }

      .vitrine-info h3 {
        font-size: 16px;
        margin: 0 0 5px;
      }

      .vitrine-botoes {
        display: flex;
        gap: 5px;
        margin-top: 5px;
      }

      .vitrine-botoes button {
        flex: 1;
        font-size: 12px;
        background: #1db954;
        border: none;
        color: white;
        border-radius: 4px;
        padding: 5px;
        cursor: pointer;
        transition: background 0.3s;
      }

      .vitrine-botoes button.trailer {
        background: #555;
      }

      .vitrine-botoes button:hover {
        background: #17a944;
      }

      .vitrine-botoes button.trailer:hover {
        background: #444;
      }

      body.modo-claro .vitrine-card {
        background: #fff;
      }

      body.modo-claro .vitrine-info {
        color: #111;
        background: linear-gradient(to top, rgba(255,255,255,0.9), transparent);
      }

      body.modo-claro .vitrine-botoes button.trailer {
        background: #ccc;
        color: #000;
      }
    .ano-overlay {
      position: absolute;
      bottom: 6px;
      left: 8px;
      background-color: rgba(0, 0, 0, 0.7);
      color: #fff;
      padding: 1px 8px;
      font-size: 10px;
      border-radius: 4px;
      font-weight: bold;
      z-index: 1;
    }

    @media (max-width: 900px) {
  #modal-player.simulacao-fullscreen-mobile {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    min-width: 100vw !important;
    min-height: 100vh !important;
    max-width: 100vw !important;
    max-height: 100vh !important;
    padding: 0 !important;
    margin: 0 !important;
    background: #000 !important;
    z-index: 99999 !important;
    align-items: stretch !important;
    justify-content: center !important;
    display: flex !important;
    overflow: hidden !important;
  }
  #modal-player.simulacao-fullscreen-mobile > div {
    width: 100vw !important;
    height: 100vh !important;
    min-width: 100vw !important;
    min-height: 100vh !important;
    max-width: 100vw !important;
    max-height: 100vh !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    aspect-ratio: unset !important;
    background: #000 !important;
    position: relative !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
    display: flex !important;
    flex-direction: column !important;
  }
  #modal-player.simulacao-fullscreen-mobile iframe {
    width: 100vw !important;
    height: 100vh !important;
    min-width: 100vw !important;
    min-height: 100vh !important;
    max-width: 100vw !important;
    max-height: 100vh !important;
    border-radius: 0 !important;
    background: #000 !important;
    display: block !important;
    margin: 0 !important;
    padding: 0 !important;
  }
}
  </style>
</head>
<body>
  <header>
    <!-- BotÃ£o de login removido, login obrigatÃ³rio -->
    <div class="perfil-container">
      <button id="btn-perfil" aria-label="Abrir menu de perfil">âï¸</button>
      <ul id="menu-perfil" class="menu-perfil" role="menu" aria-label="Menu de Perfil">
        <li role="menuitem" tabindex="0" id="toggle-dark">ð Alternar Dark Mode</li>
      </ul>
    </div>

    <div class="titulo-centralizado">
      <h1>
        <span class="kz-vermelho">Kz</span>
        <span class="kz-texto">Flix Filmes & SÃ©ries</span>
      </h1>
      <p>Desfrute das melhores produÃ§Ãµes!</p>
    </div>

    <div class="campo-busca">
      <input type="text" id="busca" placeholder="ð Buscar por tÃ­tulo ou gÃªnero..." autocomplete="off" aria-label="Buscar por tÃ­tulo ou gÃªnero" />
      <ul id="lista-generos" class="lista-generos" role="listbox" tabindex="-1" aria-label="Lista de gÃªneros">
        <li data-genero="all" tabindex="0" role="option">Todos</li>
        <li data-genero="aÃ§Ã£o" tabindex="0" role="option">AÃ§Ã£o</li>
        <li data-genero="aventura" tabindex="0" role="option">Aventura</li>
        <li data-genero="comÃ©dia" tabindex="0" role="option">ComÃ©dia</li>
        <li data-genero="drama" tabindex="0" role="option">Drama</li>
        <li data-genero="terror" tabindex="0" role="option">Terror</li>
        <li data-genero="ficÃ§Ã£o cientÃ­fica" tabindex="0" role="option">FicÃ§Ã£o CientÃ­fica</li>
        <li data-genero="fantasia" tabindex="0" role="option">Fantasia</li>
        <li data-genero="documentÃ¡rio" tabindex="0" role="option">DocumentÃ¡rio</li>
        <li data-genero="animaÃ§Ã£o" tabindex="0" role="option">AnimaÃ§Ã£o</li>
      </ul>
    </div>
  </header>
  <div class="filtros" role="group" aria-label="Filtros de tipo">
    <button class="active" data-type="all" aria-pressed="true">Todos</button>
    <button data-type="movie" aria-pressed="false">Filmes</button>
    <button data-type="series" aria-pressed="false">SÃ©ries</button>
    <button
      id="btn-home"
      style="margin-left: 10px; padding: 10px 20px; border: none; background: #e50914; color: white; border-radius: 5px; cursor: pointer; display: none;"
    >
      Sair da pesquisa
    </button>
  </div>
  <section id="lancamentos" style="margin: 40px 0;">
    <h2 class="secao-titulo">ð¥ Adicionados Recentemente</h2>
    <div class="vitrine-scroll" id="vitrine-lancamentos">
      <!-- Os lanÃ§amentos serÃ£o inseridos aqui -->
    </div>
  </section>

  <main>
    <div class="lista" id="lista" aria-live="polite" aria-label="Lista de filmes e sÃ©ries"></div>
    <button id="btn-carregar-mais" style="display:none; margin: 20px auto; padding: 12px 24px; font-size: 16px; border-radius: 6px; background: #1db954; color: white; border: none; cursor: pointer; display: block;">
    Carregar mais
    </button>

  </main>

  <!-- Modal EpisÃ³dios -->
  <div id="modal-episodios" role="dialog" aria-modal="true" aria-labelledby="modal-titulo" tabindex="-1">
    <div class="modal-conteudo">
      <h2 id="modal-titulo"></h2>
      <label for="select-temporada">Selecione a temporada:</label>
      <select id="select-temporada" aria-label="Selecione a temporada"></select>
      <label for="select-episodio">Selecione o episÃ³dio:</label>
      <select id="select-episodio" aria-label="Selecione o episÃ³dio"></select>
      <button id="btn-assistir-episodio" aria-label="Assistir episÃ³dio selecionado">â¶ï¸ Assistir EpisÃ³dio</button>
      <button id="btn-fechar-modal" style="background:#e50914; margin-top:10px;">â Fechar</button>
    </div>
  </div>

  <!-- Modal Login moderno -->
  <div id="modal-login" style="display:flex;position:fixed;top:0;left:0;width:100vw;height:100vh;background:linear-gradient(135deg,#111 0%,#444 100%);z-index:20001;justify-content:center;align-items:center;animation:fadeInLogin 0.7s;">
    <form id="form-login" class="login-card">
      <img src="imagens/Kz Logo.png" alt="Logo KzFlix" style="width:80px;height:80px;object-fit:cover;border-radius:18px;box-shadow:0 0 18px #4448,0 2px 12px #0008;margin-bottom:18px;">
      <h2 class="login-title">Bem-vindo ao KzFlix</h2>
      <div class="login-field">
        <span class="login-icon">ð¤</span>
        <input type="text" id="login-nome" placeholder="Seu nome" required>
      </div>
      <div class="login-field" style="position:relative;">
        <span class="login-icon">ð</span>
        <input type="password" id="login-senha" placeholder="Sua senha" required style="padding-right:38px;">
        <button type="button" id="toggle-senha" aria-label="Mostrar senha" style="position:absolute;right:8px;background:none;border:none;color:#aaa;font-size:1.5rem;cursor:pointer;outline:none;top:50%;transform:translateY(-50%);padding:0;display:flex;align-items:center;">
          <svg id="eye-open" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#aaa" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z"></path><circle cx="12" cy="12" r="3"></circle></svg>
          <svg id="eye-closed" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#aaa" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none;"><path d="M17.94 17.94A10.94 10.94 0 0 1 12 19c-7 0-11-7-11-7a21.07 21.07 0 0 1 5.06-7.06"></path><path d="M1 1l22 22"></path></svg>
        </button>
      </div>
      <div id="login-erro" class="login-erro" style="margin-bottom:8px;"></div>
      <div id="msg-bem-vindo" style="display:none;text-align:center;font-size:1.1rem;color:#1db954;font-weight:bold;margin-top:8px;transition:opacity 0.7s;"></div>
      <button type="submit" class="login-btn">Entrar</button>
    </form>
  </div>
  <style>
    @keyframes fadeInLogin {
      from { opacity: 0; transform: scale(1.08); }
      to { opacity: 1; transform: scale(1); }
    }
    .login-card {
      backdrop-filter: blur(14px);
      background: rgba(24,24,24,0.97);
      padding: 38px 32px 32px 32px;
      border-radius: 28px;
      box-shadow: 0 8px 32px #2228,0 0 0 2px #4448;
      width: 100%;
      max-width: 370px;
      display: flex;
      flex-direction: column;
      gap: 22px;
      align-items: center;
      position: relative;
      border: 1.5px solid #4448;
      animation: fadeInLogin 0.7s;
    }
    .login-title {
      color: #f2f2f2;
      margin-bottom: 0;
      font-size: 2rem;
      font-family: 'Arial Black', 'Impact', Arial, sans-serif;
      letter-spacing: 2px;
      text-shadow: 0 2px 12px #222,0 2px 8px #0008;
      text-align: center;
    }
    .login-field {
      width: 100%;
      display: flex;
      align-items: center;
      background: rgba(44,44,44,0.92);
      border-radius: 12px;
      box-shadow: 0 2px 8px #2224;
      border: 1.5px solid #4448;
      margin-bottom: 2px;
      padding: 0 10px;
      transition: box-shadow 0.2s, border 0.2s;
    }
    .login-field:focus-within {
      box-shadow: 0 0 0 2px #444,0 2px 8px #2228;
      border: 1.5px solid #444;
    }
    .login-icon {
      font-size: 1.3rem;
      color: #888;
      margin-right: 8px;
      text-shadow: 0 0 8px #2228;
    }
    .login-field input {
      flex: 1;
      background: transparent;
      border: none;
      color: #f2f2f2;
      font-size: 1.1rem;
      padding: 14px 0;
      outline: none;
      letter-spacing: 1px;
      font-family: inherit;
      transition: color 0.2s;
    }
    .login-field input::placeholder {
      color: #888;
      font-size: 1rem;
      letter-spacing: 1px;
      font-family: inherit;
    }
    .login-btn {
      width: 100%;
      background: linear-gradient(90deg,#222 0%,#444 100%);
      color: #f2f2f2;
      font-size: 1.3rem;
      padding: 15px 0;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 0 18px #2228,0 2px 12px #4444;
      transition: background 0.3s,transform 0.2s,box-shadow 0.2s;
      letter-spacing: 2px;
      text-shadow: 0 2px 8px #222;
      margin-top: 10px;
    }
    .login-btn:hover {
      background: linear-gradient(90deg,#444 0%,#222 100%);
      transform: scale(1.04);
      box-shadow: 0 0 24px #444a,0 2px 12px #2224;
    }
    .login-erro {
      display: none;
      color: #888;
      font-size: 1rem;
      margin-top: 6px;
      text-align: center;
      text-shadow: 0 2px 8px #222;
      letter-spacing: 1px;
    }
    @media (max-width: 500px) {
      .login-card {
        max-width: 98vw;
        padding: 18px 6vw 18px 6vw;
      }
      .login-title {
        font-size: 1.2rem;
      }
      .login-btn {
        font-size: 1rem;
        padding: 12px 0;
      }
    }
  </style>
  <!-- Modal Player -->
  <div id="modal-player" role="dialog" aria-modal="true" tabindex="-1">
    <div style="position:relative; height:100%;">
      <button class="fullscreen-player" aria-label="Tela cheia" style="position:absolute;top:10px;right:10px;background:rgba(30,30,30,0.9);border:none;color:#fff;font-size:20px;padding:8px 12px;border-radius:50px;cursor:pointer;z-index:11;transition:background 0.3s;">â¶</button>
      <button class="fechar-player" aria-label="Fechar player" style="position:absolute;top:10px;right:60px;">â</button>
      <iframe
        id="iframe-player"
        src=""
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
        title="Player de vÃ­deo"
      ></iframe>
      <button class="pular-capitulo-player-global" aria-label="Pular capÃ­tulo" style="position:absolute;right:18px;bottom:18px;background:#1db954;border:none;color:#fff;font-size:14px;padding:8px 18px;border-radius:24px;cursor:pointer;z-index:20000;transition:background 0.3s;display:none;box-shadow:0 2px 8px rgba(0,0,0,0.3);">â­ï¸ Pular CapÃ­tulo</button>
    </div>
  </div>
<script src="dados.js"></script>
<script>
// Login modal aprimorado
const modalLogin = document.getElementById("modal-login");
const formLogin = document.getElementById("form-login");
const loginErro = document.getElementById("login-erro");
const loginNome = document.getElementById('login-nome');
const loginSenha = document.getElementById('login-senha');
const loginUserBtns = document.querySelectorAll('.login-user-btn');

// Bloqueia rolagem ao abrir
document.body.classList.add('modal-aberto');

// Foca no campo nome ao abrir
window.addEventListener('DOMContentLoaded', () => {
  setTimeout(() => {
    loginNome.focus();
  }, 200);
});

// Impede fechar modal por clique ou ESC
modalLogin.addEventListener("click", (e) => {
  e.stopPropagation();
});
document.addEventListener("keydown", (e) => {
  if (modalLogin.style.display === "flex") {
    if (e.key === "Escape") {
      e.preventDefault();
    }
  }
});

// BotÃµes de usuÃ¡rio
loginUserBtns.forEach(btn => {
  btn.addEventListener('click', () => {
    loginNome.value = btn.getAttribute('data-nome');
    loginSenha.value = btn.getAttribute('data-senha');
    loginNome.focus();
    loginErro.style.display = 'none';
  });
});

formLogin.onsubmit = (e) => {
  e.preventDefault();
  const nome = loginNome.value.trim();
  const senha = loginSenha.value.trim();
  const msgBemVindo = document.getElementById('msg-bem-vindo');
  if (!nome || !senha) {
    loginErro.textContent = "Preencha todos os campos.";
    loginErro.style.display = "block";
    msgBemVindo.style.display = "none";
    return;
  }
  // SÃ³ permite os logins especÃ­ficos
  const loginsValidos = [
    { nome: "Kzinn", senha: "renatamachado" },
    { nome: "Maxz", senha: "132607" }
  ];
  const valido = loginsValidos.some(l => l.nome === nome && l.senha === senha);
  if (!valido) {
    loginErro.textContent = "Login ou senha invÃ¡lidos. Use um dos logins permitidos.";
    loginErro.style.display = "block";
    msgBemVindo.style.display = "none";
    return;
  }
  loginErro.style.display = "none";
  msgBemVindo.innerHTML = `<span style='font-size:1.5rem;vertical-align:middle;margin-right:6px;'>ð¬</span>Bem-vindo, <b style='color:#1db954;'>${nome}</b>!`;
  msgBemVindo.style.display = 'block';
  msgBemVindo.style.opacity = '1';
  // Delay de 3 segundos antes de liberar acesso
  setTimeout(() => {
    msgBemVindo.style.opacity = '0';
    setTimeout(() => { msgBemVindo.style.display = 'none'; }, 700);
    modalLogin.style.display = "none";
    document.body.classList.remove('modal-aberto');
  }, 3000);
};

// Mostrar/ocultar senha com SVG
const toggleSenha = document.getElementById('toggle-senha');
const eyeOpen = document.getElementById('eye-open');
const eyeClosed = document.getElementById('eye-closed');
toggleSenha.addEventListener('click', () => {
  if (loginSenha.type === 'password') {
    loginSenha.type = 'text';
    eyeOpen.style.display = 'none';
    eyeClosed.style.display = 'inline';
    toggleSenha.setAttribute('aria-label', 'Ocultar senha');
  } else {
    loginSenha.type = 'password';
    eyeOpen.style.display = 'inline';
    eyeClosed.style.display = 'none';
    toggleSenha.setAttribute('aria-label', 'Mostrar senha');
  }
});
    const lista = document.getElementById("lista");
    let dadosFiltrados = [];
    let limiteInicial = 0;
    const QUANTIDADE_POR_PAGINA = 10;
    const botoes = document.querySelectorAll(".filtros button");
    const campoBusca = document.getElementById("busca");
    const listaGeneros = document.getElementById("lista-generos");

    const modalEpisodios = document.getElementById("modal-episodios");
    const modalTitulo = document.getElementById("modal-titulo");
    const selectTemporada = document.getElementById("select-temporada");
    const selectEpisodio = document.getElementById("select-episodio");
    const btnAssistirEpisodio = document.getElementById("btn-assistir-episodio");
    const btnFecharModal = document.getElementById("btn-fechar-modal");

    const modalPlayer = document.getElementById("modal-player");
    const iframePlayer = document.getElementById("iframe-player");

    const btnFecharPlayer = modalPlayer.querySelector(".fechar-player");
    const btnFullscreenPlayer = modalPlayer.querySelector(".fullscreen-player");
    const btnPularCapitulo = document.querySelector('.pular-capitulo-player-global');

    // Reposiciona o botÃ£o abaixo do modal player ao abrir
    function posicionarPularCapitulo() {
      // modalDiv jÃ¡ foi declarado acima
      if (!modalPlayer.classList.contains('show')) {
        btnPularCapitulo.style.display = 'none';
        return;
      }
      // Pega a posiÃ§Ã£o do modal na tela
      const rect = modalDiv.getBoundingClientRect();
      btnPularCapitulo.style.position = 'absolute';
      btnPularCapitulo.style.left = (rect.right - btnPularCapitulo.offsetWidth) + 'px';
      btnPularCapitulo.style.top = (rect.bottom + 12 + window.scrollY) + 'px';
      btnPularCapitulo.style.right = '';
      btnPularCapitulo.style.bottom = '';
    }

    // Chama ao abrir modal player e ao redimensionar
    window.addEventListener('resize', () => {
      if (btnPularCapitulo.style.display !== 'none') {
        posicionarPularCapitulo();
      }
    });

    // VariÃ¡veis para controle do episÃ³dio atual
    let episodioAtualInfo = null;


    let tipoFiltro = "all";
    let filtroGenero = "all";
    let serieAtual = null; // <-- Adiciona variÃ¡vel global para guardar a sÃ©rie aberta

    // Exibir lista inicial
    exibirLista(dados, true);

    // Filtrar por tipo (Filme, SÃ©rie, Todos)
    botoes.forEach((botao) => {
      botao.addEventListener("click", () => {
        botoes.forEach((b) => {
          b.classList.remove("active");
          b.setAttribute("aria-pressed", "false");
        });
        botao.classList.add("active");
        botao.setAttribute("aria-pressed", "true");
        tipoFiltro = botao.getAttribute("data-type");
        campoBusca.value = "";
        filtroGenero = "all";
        listaGeneros.style.display = "none";
        exibirLista(filtrarDados(), true);
        document.getElementById("btn-home").style.display = tipoFiltro === "all" ? "none" : "inline-block";
      });
    });

    // BotÃ£o sair da pesquisa
    document.getElementById("btn-home").addEventListener("click", () => {
      tipoFiltro = "all";
      filtroGenero = "all";
      campoBusca.value = "";
      listaGeneros.style.display = "none";
      botoes.forEach((b) => {
        b.classList.remove("active");
        b.setAttribute("aria-pressed", "false");
      });
      botoes[0].classList.add("active");
      botoes[0].setAttribute("aria-pressed", "true");
      exibirLista(dados, true);
      document.getElementById("btn-home").style.display = "none";
    });

    // Mostrar/ocultar lista de gÃªneros
    campoBusca.addEventListener("focus", () => {
      listaGeneros.style.display = "block";
    });

    campoBusca.addEventListener("blur", () => {
      setTimeout(() => {
        listaGeneros.style.display = "none";
      }, 150);
    });

    // SeleÃ§Ã£o de gÃªnero da lista
    listaGeneros.querySelectorAll("li").forEach((item) => {
      item.addEventListener("click", () => {
        filtroGenero = item.getAttribute("data-genero");
        campoBusca.value = filtroGenero === "all" ? "" : filtroGenero;
        exibirLista(filtrarDados(), true);
        listaGeneros.style.display = "none";
      });
      item.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          item.click();
        }
      });
    });

    // Busca por tÃ­tulo ou gÃªnero no campo de busca
    campoBusca.addEventListener("input", () => {
      filtroGenero = campoBusca.value.toLowerCase();
      exibirLista(filtrarDados(), true);
    });

    // FunÃ§Ã£o que filtra os dados de acordo com os filtros
    function filtrarDados() {
      return dados.filter((item) => {
        const tipoOk = tipoFiltro === "all" || item.tipo === tipoFiltro;
        const buscaTexto = campoBusca.value.trim().toLowerCase();

        // Verificar busca no tÃ­tulo
        const buscaTitulo = item.titulo.toLowerCase().includes(buscaTexto);

        // Verificar busca no gÃªnero
        const buscaGenero =
          filtroGenero === "all" ||
          item.generos.some((g) => g.toLowerCase().includes(filtroGenero));

        return tipoOk && (buscaTitulo || buscaGenero);
      });
    }

    // FunÃ§Ã£o para exibir lista de filmes e sÃ©ries
    function exibirLista(listaDados, reset = true) {
    const btnMais = document.getElementById("btn-carregar-mais");

    if (reset) {
      lista.innerHTML = "";
      limiteInicial = 0;
      dadosFiltrados = listaDados;
    }

    const proximoLote = dadosFiltrados.slice(limiteInicial, limiteInicial + QUANTIDADE_POR_PAGINA);

    if (proximoLote.length === 0 && limiteInicial === 0) {
      lista.innerHTML = "<p style='text-align:center;'>Nenhum resultado encontrado.</p>";
      btnMais.style.display = "none";
      return;
    }

    proximoLote.forEach((item) => {
      const card = document.createElement("article");
      card.className = "card";
      card.setAttribute("tabindex", "0");
      card.setAttribute("role", "region");
      card.setAttribute("aria-label", item.titulo);

      const img = document.createElement("img");
      img.src = item.imagem;
      img.alt = `Imagem do ${item.tipo === "movie" ? "filme" : "sÃ©rie"} ${item.titulo}`;

      const anoOverlay = document.createElement("div");
      anoOverlay.className = "card-ano-overlay";
      anoOverlay.textContent = item.ano || "";

      const cardBody = document.createElement("div");
      cardBody.className = "card-body";

      const titulo = document.createElement("h3");
      titulo.className = "card-title";
      titulo.textContent = item.titulo;

      const ano = document.createElement("p");
      ano.className = "card-ano";
      ano.textContent = item.ano || "";

      const desc = document.createElement("p");
      desc.className = "card-desc";
      desc.textContent = item.descricao;

      cardBody.appendChild(titulo);
      cardBody.appendChild(ano);
      cardBody.appendChild(desc);

      const btnAssistir = document.createElement("button");
      btnAssistir.className = "assistir-btn";
      btnAssistir.textContent = item.tipo === "movie" ? "â¶ï¸ Assistir" : "â¶ï¸ Assistir SÃ©rie";
      btnAssistir.setAttribute("aria-label", `Assistir ${item.tipo === "movie" ? "filme" : "sÃ©rie"} ${item.titulo}`);

      btnAssistir.addEventListener("click", () => {
        if (item.tipo === "movie") abrirModalPlayer(item.video);
        else abrirModalEpisodios(item);
      });
      const botoesContainer = document.createElement("div");
      botoesContainer.style.display = "flex";
      botoesContainer.style.flexWrap = "wrap";
      botoesContainer.style.gap = "10px";
      botoesContainer.style.marginTop = "10px";
      botoesContainer.appendChild(btnAssistir);

      if (item.trailer) {
        const btnTrailer = document.createElement("button");
        btnTrailer.className = "assistir-btn trailer";
        btnTrailer.textContent = "â¶ï¸ Trailer";
        btnTrailer.addEventListener("click", () => abrirModalPlayer(item.trailer));
        botoesContainer.appendChild(btnTrailer);
      }

      cardBody.appendChild(botoesContainer);
      card.appendChild(img);
      card.appendChild(cardBody);
      lista.appendChild(card);
    });

    limiteInicial += QUANTIDADE_POR_PAGINA;
    btnMais.style.display = limiteInicial < dadosFiltrados.length ? "block" : "none";
}


    // Modal EpisÃ³dios
    function abrirModalEpisodios(serie) {
      serieAtual = serie; // <-- Guarda a sÃ©rie atualmente aberta
      modalTitulo.textContent = `Temporadas de ${serie.titulo}`;
      selectTemporada.innerHTML = "";
      selectEpisodio.innerHTML = "";
      btnAssistirEpisodio.disabled = true;

      serie.temporadas.forEach((temp) => {
        const option = document.createElement("option");
        option.value = temp.numero;
        option.textContent = `Temporada ${temp.numero}`;
        selectTemporada.appendChild(option);
      });

      // Quando mudar a temporada, carregar os episÃ³dios
      selectTemporada.onchange = () => {
        carregarEpisodios(serie, Number(selectTemporada.value));
      };

      // Inicializa com a primeira temporada
      if (serie.temporadas.length > 0) {
        selectTemporada.value = serie.temporadas[0].numero;
        carregarEpisodios(serie, serie.temporadas[0].numero);
      }

      modalEpisodios.style.display = "flex";
      modalEpisodios.focus();

      btnFecharModal.onclick = fecharModalEpisodios;
    }

    function carregarEpisodios(serie, numTemporada) {
      selectEpisodio.innerHTML = "";
      const temporada = serie.temporadas.find((t) => t.numero === numTemporada);
      if (!temporada) return;

      temporada.episodios.forEach((epi) => {
        const option = document.createElement("option");
        option.value = epi.numero;
        option.textContent = `EpisÃ³dio ${epi.numero} - ${epi.titulo}`;
        selectEpisodio.appendChild(option);
      });

      selectEpisodio.value = temporada.episodios[0].numero;
      btnAssistirEpisodio.disabled = false;
    }

    btnAssistirEpisodio.onclick = () => {
      const numTemp = Number(selectTemporada.value);
      const numEpi = Number(selectEpisodio.value);
      if (!serieAtual) return;
      const temporada = serieAtual.temporadas.find((t) => t.numero === numTemp);
      if (!temporada) return;
      const episodio = temporada.episodios.find((e) => e.numero === numEpi);
      if (!episodio) return;
      abrirModalPlayer(episodio.video, {
        tipo: 'serie',
        serie: serieAtual,
        temporada: numTemp,
        episodio: numEpi
      });
      fecharModalEpisodios();
    };

    function fecharModalEpisodios() {
      modalEpisodios.style.display = "none";
    }


    // Modal Player
    function abrirModalPlayer(link, infoEpisodio = null) {
      iframePlayer.src = link;
      modalPlayer.classList.add("show");
      modalPlayer.focus();
      episodioAtualInfo = infoEpisodio;
      // Bloqueia rolagem e zoom
      document.body.classList.add('modal-aberto');
      // Impede zoom via meta viewport
      const metaViewport = document.getElementById('meta-viewport');
      if (metaViewport) {
        metaViewport.setAttribute('content', 'width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no');
      }
      // Exibe botÃ£o pular capÃ­tulo global sÃ³ se for episÃ³dio de sÃ©rie
      if (infoEpisodio && infoEpisodio.tipo === 'serie') {
        btnPularCapitulo.style.display = 'inline-block';
        btnPularCapitulo.disabled = false;
        // Posiciona abaixo do modal, alinhado Ã  direita
        btnPularCapitulo.style.position = 'absolute';
        btnPularCapitulo.style.bottom = '18px';
        btnPularCapitulo.style.right = '18px';
        btnPularCapitulo.style.left = 'auto';
        btnPularCapitulo.style.top = '';
        btnPularCapitulo.style.zIndex = '20000';
        btnPularCapitulo.style.visibility = 'visible';
        btnPularCapitulo.style.opacity = '1';
      } else {
        btnPularCapitulo.style.display = 'none';
      }
    }

    // Fullscreen e orientaÃ§Ã£o paisagem
    btnFullscreenPlayer.onclick = async function() {
      const modalDiv = modalPlayer.querySelector('div');
      const isMobile = /Android|iPhone|iPad|iPod|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent);
      // Sempre tenta fullscreen nativo primeiro
      if (!document.fullscreenElement) {
        // Oculta todos os botÃµes, exceto o fullscreen
        btnFecharPlayer.style.display = 'none';
        btnPularCapitulo.style.display = 'none';
        btnFullscreenPlayer.style.display = 'block';
        let entrouFullscreen = false;
        // Tenta API nativa
        if (modalDiv.requestFullscreen) {
          try {
            await modalDiv.requestFullscreen();
            entrouFullscreen = true;
          } catch (e) {}
        } else if (modalDiv.webkitRequestFullscreen) {
          try {
            await modalDiv.webkitRequestFullscreen();
            entrouFullscreen = true;
          } catch (e) {}
        } else if (modalDiv.msRequestFullscreen) {
          try {
            await modalDiv.msRequestFullscreen();
            entrouFullscreen = true;
          } catch (e) {}
        }
        // Tenta travar orientaÃ§Ã£o para landscape
        if (screen.orientation && screen.orientation.lock) {
          try {
            await screen.orientation.lock('landscape');
          } catch (e) {}
        }
        // Se nÃ£o entrou em fullscreen nativo, simula no mobile
        if (!entrouFullscreen && isMobile) {
          const jaFullscreen = modalPlayer.classList.contains('simulacao-fullscreen-mobile');
          let aviso = document.getElementById('aviso-orientacao');
          if (!jaFullscreen) {
            modalPlayer.classList.add('simulacao-fullscreen-mobile');
            btnFecharPlayer.style.display = 'none';
            btnPularCapitulo.style.display = 'none';
            btnFullscreenPlayer.style.display = 'block';
            // Mensagem para girar o aparelho se nÃ£o travou
            if (!aviso) {
              aviso = document.createElement('div');
              aviso.id = 'aviso-orientacao';
              aviso.innerText = 'Gire o aparelho para paisagem para melhor experiÃªncia.';
              aviso.style.position = 'fixed';
              aviso.style.bottom = '24px';
              aviso.style.left = '50%';
              aviso.style.transform = 'translateX(-50%)';
              aviso.style.background = 'rgba(0,0,0,0.8)';
              aviso.style.color = '#fff';
              aviso.style.padding = '10px 18px';
              aviso.style.borderRadius = '20px';
              aviso.style.fontSize = '16px';
              aviso.style.zIndex = '100001';
              document.body.appendChild(aviso);
            }
          }
        }
      } else {
        // Sai do fullscreen nativo ou simulado
        if (document.exitFullscreen) {
          try {
            await document.exitFullscreen();
          } catch (e) {}
        } else if (document.webkitExitFullscreen) {
          try {
            await document.webkitExitFullscreen();
          } catch (e) {}
        } else if (document.msExitFullscreen) {
          try {
            await document.msExitFullscreen();
          } catch (e) {}
        }
        if (screen.orientation && screen.orientation.unlock) {
          try { screen.orientation.unlock(); } catch (e) {}
        }
        // Remove simulaÃ§Ã£o se estiver ativa
        if (modalPlayer.classList.contains('simulacao-fullscreen-mobile')) {
          modalPlayer.classList.remove('simulacao-fullscreen-mobile');
          btnFecharPlayer.style = '';
          let aviso = document.getElementById('aviso-orientacao');
          if (aviso) aviso.remove();
        }
        // Reexibe botÃµes se necessÃ¡rio
        btnFecharPlayer.style.display = '';
        if (episodioAtualInfo && episodioAtualInfo.tipo === 'serie') {
          btnPularCapitulo.style.display = 'inline-block';
        }
      }
    };

    // Reexibe botÃµes ao sair do fullscreen
    document.addEventListener('fullscreenchange', () => {
      if (!document.fullscreenElement) {
        // Reexibe botÃµes ao sair do fullscreen
        btnFecharPlayer.style.display = '';
        btnFullscreenPlayer.style.display = 'block';
        if (episodioAtualInfo && episodioAtualInfo.tipo === 'serie') {
          btnPularCapitulo.style.display = 'inline-block';
        } else {
          btnPularCapitulo.style.display = 'none';
        }
      }
    });

    btnFecharPlayer.onclick = async function() {
      let saiuDoFullscreen = false;
      if (document.fullscreenElement) {
        try {
          if (document.exitFullscreen) {
            await document.exitFullscreen();
          } else if (document.webkitExitFullscreen) {
            await document.webkitExitFullscreen();
          } else if (document.msExitFullscreen) {
            await document.msExitFullscreen();
          }
          saiuDoFullscreen = true;
        } catch (e) {}
        // Desbloqueia orientaÃ§Ã£o
        if (screen.orientation && screen.orientation.unlock) {
          try { screen.orientation.unlock(); } catch (e) {}
        }
      }
      // Sempre fecha o modal, aguarda se saiu do fullscreen
      if (saiuDoFullscreen) {
        setTimeout(() => {
          fecharModalPlayer();
        }, 200);
      } else {
        fecharModalPlayer();
      }
    }

    // FunÃ§Ã£o para pular capÃ­tulo
    btnPularCapitulo.onclick = function() {
      if (!episodioAtualInfo || episodioAtualInfo.tipo !== 'serie') return;
      const serie = episodioAtualInfo.serie;
      let numTemp = episodioAtualInfo.temporada;
      let numEpi = episodioAtualInfo.episodio;
      const temporada = serie.temporadas.find(t => t.numero === numTemp);
      if (!temporada) return;
      // PrÃ³ximo episÃ³dio na mesma temporada
      if (numEpi < temporada.episodios.length) {
        const proximoEpi = temporada.episodios.find(e => e.numero === numEpi + 1);
        if (proximoEpi) {
          abrirModalPlayer(proximoEpi.video, {
            tipo: 'serie',
            serie: serie,
            temporada: numTemp,
            episodio: numEpi + 1
          });
          return;
        }
      }
      // Se nÃ£o hÃ¡ prÃ³ximo episÃ³dio, tenta prÃ³xima temporada
      const proxTemp = serie.temporadas.find(t => t.numero === numTemp + 1);
      if (proxTemp && proxTemp.episodios.length > 0) {
        abrirModalPlayer(proxTemp.episodios[0].video, {
          tipo: 'serie',
          serie: serie,
          temporada: numTemp + 1,
          episodio: 1
        });
        return;
      }
      // Se nÃ£o hÃ¡ mais episÃ³dios, desabilita botÃ£o
      btnPularCapitulo.disabled = true;
    };

    // Fechar modal player ao clicar fora do iframe
    modalPlayer.addEventListener("click", (e) => {
      if (e.target === modalPlayer) {
        fecharModalPlayer();
      }
    });

    // FunÃ§Ã£o robusta para fechar o modal player
    function fecharModalPlayer() {
      modalPlayer.classList.remove("show");
      iframePlayer.src = "";
      btnPularCapitulo.style.display = "none";
      episodioAtualInfo = null;
      // Libera rolagem e zoom
      document.body.classList.remove('modal-aberto');
      const metaViewport = document.getElementById('meta-viewport');
      if (metaViewport) {
        metaViewport.setAttribute('content', 'width=device-width, initial-scale=1');
      }
    }

    // Fechar modal episÃ³dios ao clicar fora
    modalEpisodios.addEventListener("click", (e) => {
      if (e.target === modalEpisodios) {
        fecharModalEpisodios();
      }
    });

    // Para fechar modais com ESC
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        if (modalPlayer.style.display === "flex") {
          fecharModalPlayer();
        }
        if (modalEpisodios.style.display === "flex") {
          fecharModalEpisodios();
        }
      }
    });
    const btnPerfil = document.getElementById("btn-perfil");
    const menuPerfil = document.getElementById("menu-perfil");
    const toggleDark = document.getElementById("toggle-dark");

    btnPerfil.addEventListener("click", () => {
      menuPerfil.style.display = menuPerfil.style.display === "block" ? "none" : "block";
    });

    // Fechar menu clicando fora
    document.addEventListener("click", (e) => {
      if (!menuPerfil.contains(e.target) && e.target !== btnPerfil) {
        menuPerfil.style.display = "none";
      }
    });

    // Alternar modo escuro
    toggleDark.addEventListener("click", () => {
      document.body.classList.toggle("modo-claro");
      localStorage.setItem("modo", document.body.classList.contains("modo-claro") ? "claro" : "escuro");
    });
    // Carregar tema salvo
    if (localStorage.getItem("modo") === "claro") {
      document.body.classList.add("modo-claro");
    }
    document.getElementById("btn-carregar-mais").addEventListener("click", () => {
    exibirLista(dadosFiltrados, false);
    });
    // Exibir lanÃ§amentos recentes (com base em alguns tÃ­tulos)
    const ordemDesejada = [
      "KaratÃª Kid: Lendas",
      "Ballerina - Do Universo de John Wick",
      "Round 6",
      "Pecadores",
      "Um Filme Minecraft",
      "Arcanjo Renegado",
      "Homem-Aranha: AtravÃ©s do Aranhaverso",
      "Dark",
    ];
    const lancamentosRecentes = ordemDesejada
    .map(titulo => dados.find(item => item.titulo === titulo))
    .filter(Boolean); // Remove itens nÃ£o encontrados


    const vitrineContainer = document.getElementById("vitrine-lancamentos");
    lancamentosRecentes.forEach((item, index) => {
    const card = document.createElement("div");
    card.className = "vitrine-card";

    const img = document.createElement("img");
    img.src = item.imagem;
    img.alt = `Imagem do lanÃ§amento ${item.titulo}`;

    const info = document.createElement("div");
    info.className = "vitrine-info";

    const h3 = document.createElement("h3");
    h3.textContent = `${index + 1}. ${item.titulo}`;

    const botoes = document.createElement("div");
    botoes.className = "vitrine-botoes";

    const btnAssistir = document.createElement("button");
    btnAssistir.textContent = "â¶ï¸ Assistir";
    btnAssistir.onclick = () => {
      if (item.tipo === "movie") abrirModalPlayer(item.video);
      else abrirModalEpisodios(item);
    };

    botoes.appendChild(btnAssistir);

    if (item.trailer) {
      const btnTrailer = document.createElement("button");
      btnTrailer.textContent = "â¶ï¸ Trailer";
      btnTrailer.classList.add("trailer");
      btnTrailer.onclick = () => abrirModalPlayer(item.trailer);
      botoes.appendChild(btnTrailer);
    }

    info.appendChild(h3);
    info.appendChild(botoes);
    card.appendChild(img);
    card.appendChild(info);
    vitrineContainer.appendChild(card);
  });

  // Detecta rotaÃ§Ã£o da tela e ajusta o modal player em mobile
window.addEventListener('orientationchange', ajustarFullscreenMobilePorOrientacao);
window.addEventListener('resize', ajustarFullscreenMobilePorOrientacao);

function ajustarFullscreenMobilePorOrientacao() {
  const isMobile = /Android|iPhone|iPad|iPod|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent);
  if (!isMobile) return;
  if (!modalPlayer.classList.contains('show')) return;
  // Landscape: ocupa toda a tela
  if (window.innerWidth > window.innerHeight) {
    if (!modalPlayer.classList.contains('simulacao-fullscreen-mobile')) {
      modalPlayer.classList.add('simulacao-fullscreen-mobile');
    }
    // Em fullscreen simulado mobile, sÃ³ mostra o botÃ£o fullscreen
    btnFecharPlayer.style.display = 'none';
    btnPularCapitulo.style.display = 'none';
    btnFullscreenPlayer.style.display = 'block';
  } else {
    // Portrait: volta ao normal
    if (modalPlayer.classList.contains('simulacao-fullscreen-mobile')) {
      modalPlayer.classList.remove('simulacao-fullscreen-mobile');
    }
    btnFecharPlayer.style.display = '';
    btnFullscreenPlayer.style.display = 'block';
    // Posiciona os botÃµes fullscreen e fechar no topo direito
    btnFullscreenPlayer.style.position = 'absolute';
    btnFullscreenPlayer.style.top = '10px';
    btnFullscreenPlayer.style.right = '10px';
    btnFullscreenPlayer.style.zIndex = '13';
    btnFecharPlayer.style.position = 'absolute';
    btnFecharPlayer.style.top = '10px';
    btnFecharPlayer.style.right = '60px';
    btnFecharPlayer.style.zIndex = '12';
    // BotÃ£o pular capÃ­tulo volta para baixo Ã  direita do modal
    if (episodioAtualInfo && episodioAtualInfo.tipo === 'serie') {
      btnPularCapitulo.style.display = 'inline-block';
      btnPularCapitulo.style.position = 'absolute';
      btnPularCapitulo.style.bottom = '18px';
      btnPularCapitulo.style.right = '18px';
      btnPularCapitulo.style.left = 'auto';
      btnPularCapitulo.style.top = '';
      btnPularCapitulo.style.zIndex = '20000';
      btnPularCapitulo.style.visibility = 'visible';
      btnPularCapitulo.style.opacity = '1';
      btnPularCapitulo.disabled = false;
    } else {
      btnPularCapitulo.style.display = 'none';
      btnPularCapitulo.disabled = true;
    }
  }
}
</script>
</div>
</body>
</html>
