<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KzFlix Filmes & S√©ries</title>
  <link rel="icon" href="imagens/Kz Logo.jpg" type="image/jpg" />
  <style>
    * { box-sizing: border-box; }

    body {
      font-family: Arial, sans-serif;
      background: #121212;
      color: #eee;
      margin: 0;
      padding: 15px 20px 20px 20px;
    }

    header {
      position: relative;
      padding-bottom: 10px;
      margin-bottom: 10px;
    }

    .titulo-centralizado {
      text-align: center;
    }

    .campo-busca {
      position: absolute;
      top: 0;
      right: 0;
      width: 280px;
    }

    #busca {
      width: 100%;
      padding: 12px 40px 12px 40px;
      font-size: 16px;
      border-radius: 30px;
      border: none;
      background-color: #333;
      color: #fff;
      transition: all 0.3s;
      outline: none;
      position: relative;
      z-index: 1000;
    }

    #busca::placeholder {
      color: #aaa;
    }

    .campo-busca::before {
      position: absolute;
      top: 14px;
      left: 15px;
      font-size: 18px;
      color: #aaa;
      pointer-events: none;
      user-select: none;
    }

    .lista-generos {
      position: absolute;
      top: 42px;
      right: 0;
      background: #222;
      border-radius: 0 0 8px 8px;
      width: 100%;
      max-height: 160px;
      overflow-y: auto;
      padding: 0;
      margin: 0;
      list-style: none;
      z-index: 21000;
      box-shadow: 0 4px 8px rgba(0,0,0,0.6);
      display: none;
    }

    .lista-generos li {
      padding: 10px 15px;
      cursor: pointer;
      color: #eee;
      border-bottom: 1px solid #444;
      transition: background 0.2s;
    }

    .lista-generos li:hover,
    .lista-generos li:focus {
      background: #1db954;
      color: #fff;
      outline: none;
    }

    .filtros {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
      margin-bottom: 15px;
    }

    .filtros button {
      background: #282828;
      border: none;
      color: #eee;
      padding: 10px 20px;
      margin: 0 5px 5px 0;
      cursor: pointer;
      border-radius: 5px;
      font-size: 16px;
      transition: background 0.3s;
    }

    .filtros button:hover,
    .filtros button.active {
      background: #1db954;
      color: #fff;
    }

    .lista {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 20px;
    }

    .card {
      background: #222;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,0.7);
      transition: transform 0.2s;
    }

    .card:hover {
      transform: scale(1.05);
    }

    .card img {
      width: 100%;
      height: 300px;
      object-fit: cover;
      display: block;
    }

    .card-body {
      padding: 15px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      height: 200px;
    }

    .card-title {
      font-size: 18px;
      margin: 0 0 10px;
      font-weight: bold;
    }

    .card-desc {
      font-size: 14px;
      color: #ccc;
      line-height: 1.4;
      height: 60px;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .assistir-btn {
      margin-top: 10px;
      background: #1db954;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .assistir-btn.trailer {
      background: #555;
      margin-left: 10px;
    }

    .assistir-btn:hover {
      background: #17a944;
    }

    .assistir-btn.trailer:hover {
      background: #444;
    }

    #modal-episodios {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.95);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10000;
      padding: 20px;
      overflow: auto;
    }

    #modal-episodios .modal-conteudo {
      background: #222;
      border-radius: 10px;
      padding: 20px;
      width: 100%;
      max-width: 600px;
      color: #eee;
    }

    #modal-episodios h2 {
      margin-top: 0;
      margin-bottom: 15px;
      text-align: center;
    }

    #modal-episodios select,
    #modal-episodios button {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 5px;
      border: none;
      font-size: 16px;
      cursor: pointer;
    }

    #modal-episodios select {
      background: #121212;
      color: #eee;
    }

    #modal-episodios button {
      background: #1db954;
      color: white;
    }

    #modal-episodios button:hover {
      background: #17a944;
    }

    #modal-episodios button#btn-fechar-modal {
      background: #e50914;
      margin-top: 10px;
    }

    #modal-player {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(6px);
      justify-content: center;
      align-items: center;
      z-index: 10001;
      transition: opacity 0.3s ease;
      padding: 20px;
      overflow: auto;
    }

    #modal-player.show {
      display: flex;
      opacity: 1;
    }

    #modal-player > div {
      position: relative;
      width: 100%;
      max-width: 960px;
      aspect-ratio: 16 / 9;
      background: #000;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
    }

    #modal-player .fechar-player {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(229, 9, 20, 0.9);
      border: none;
      color: #fff;
      font-size: 20px;
      padding: 8px 12px;
      border-radius: 50px;
      cursor: pointer;
      z-index: 10;
      transition: background 0.3s ease;
    }

    #modal-player .fechar-player:hover {
      background: rgba(229, 9, 20, 1);
    }

    #iframe-player {
      width: 100%;
      height: 100%;
      border: none;
      display: block;
    }

    @media (max-width: 600px) {
      .campo-busca {
        position: static;
        width: 100%;
        margin-bottom: 15px;
      }
      .lista {
        grid-template-columns: repeat(2, 1fr);
      }
      .card img {
        height: 240px;
      }
      #busca {
        padding-left: 35px;
      }

      .lista-generos {
        position: static;
        max-height: none;
        width: 100%;
        border-radius: 8px;
        margin-top: 5px;
      }
      .titulo-centralizado h1 {
      font-size: 22px;
      line-height: 1.2;
      margin-top: 10px;
      }
      .perfil-container {
        top: 10px;
        left: 10px;
      }
      .vitrine-card {
      width: 160px;
      }
      }

      .perfil-container {
        position: absolute;
        top: 15px;
        left: 15px;
        z-index: 10000;
      }

      #btn-perfil {
        background: none;
        border: none;
        color: white;
        font-size: 24px;
        cursor: pointer;
        position: relative;
        z-index: 10000;
      }

      .menu-perfil {
        display: none;
        position: absolute;
        top: 40px;
        left: 0;
        background: #222;
        border-radius: 8px;
        list-style: none;
        margin: 0;
        padding: 10px 0;
        box-shadow: 0 4px 8px rgba(0,0,0,0.6);
        min-width: 160px;
        z-index: 99999 !important;
      }
      #toggle-dark {
        position: relative;
        z-index: 30000;
      }

      .menu-perfil li {
        padding: 10px 15px;
        color: #eee;
        cursor: pointer;
        transition: background 0.2s;
      }

      .menu-perfil li:hover,
      .menu-perfil li:focus {
        background: #1db954;
        color: #fff;
      }
      body.modo-claro {
        background: #f2f2f2;
        color: #111;
      }

      body.modo-claro .card {
        background: #fff;
      }

      body.modo-claro .card-desc {
        color: #444;
      }

      body.modo-claro .assistir-btn {
        background: #1db954;
        color: white;
      }

      body.modo-claro .assistir-btn.trailer {
        background: #ccc;
        color: #000;
      }

      body.modo-claro .filtros button {
        background: #ddd;
        color: #111;
      }

      body.modo-claro .filtros button.active {
        background: #1db954;
        color: #fff;
      }

      body.modo-claro #busca {
        background: #ddd;
        color: #000;
      }

      body.modo-claro .lista-generos {
        background: #f2f2f2;
        color: #111;
      }

      body.modo-claro .menu-perfil {
        background: #fff;
        color: #000;
      }
      .kz-vermelho {
        color: #e50914;
      }

      .kz-texto {
        color: #fff;
      }

      body.modo-claro .kz-texto {
        color: #111;
      }
      .vitrine {
        display: flex;
        overflow-x: auto;
        gap: 15px;
        padding-bottom: 10px;
      }

      .vitrine::-webkit-scrollbar {
        height: 8px;
      }
      .vitrine::-webkit-scrollbar-thumb {
        background: #333;
        border-radius: 4px;
      }

      .vitrine-card {
        flex: 0 0 auto;
        width: 200px;
        background: #222;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.7);
      }

      .vitrine-card img {
        width: 100%;
        height: 260px;
        object-fit: cover;
      }

      .vitrine-card h3 {
        font-size: 16px;
        margin: 10px;
        color: #fff;
      }
      body.modo-claro .vitrine-card {
        background: #fff;
      }
      body.modo-claro .vitrine-card h3 {
        color: #000;
      }
      .secao-titulo {
        font-size: 24px;
        color: #fff;
        margin-bottom: 15px;
      }

      body.modo-claro .secao-titulo {
        color: #111;
      }

      .vitrine-scroll {
        display: flex;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
        gap: 20px;
        padding-bottom: 10px;
        scroll-behavior: smooth;
        padding-left: 10px;
      }

      .vitrine-scroll::-webkit-scrollbar {
        height: 8px;
      }

      .vitrine-scroll::-webkit-scrollbar-thumb {
        background: #444;
        border-radius: 4px;
      }

      .vitrine-card {
        flex: 0 0 auto;
        width: 200px;
        scroll-snap-align: start;
        position: relative;
        background: #222;
        border-radius: 10px;
        overflow: hidden;
        cursor: pointer;
        transition: transform 0.3s ease;
      }

      .vitrine-card:hover {
        transform: scale(1.05);
      }

      .vitrine-card img {
        width: 100%;
        height: 280px;
        object-fit: cover;
        display: block;
      }

      .vitrine-info {
        position: absolute;
        bottom: 0;
        background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
        width: 100%;
        padding: 10px;
        color: #fff;
        text-shadow: 1px 1px 2px #000;
        transition: opacity 0.3s;
      }

      .vitrine-card:hover .vitrine-info {
        opacity: 1;
      }

      .vitrine-info h3 {
        font-size: 16px;
        margin: 0 0 5px;
      }

      .vitrine-botoes {
        display: flex;
        gap: 5px;
        margin-top: 5px;
      }

      .vitrine-botoes button {
        flex: 1;
        font-size: 12px;
        background: #1db954;
        border: none;
        color: white;
        border-radius: 4px;
        padding: 5px;
        cursor: pointer;
        transition: background 0.3s;
      }

      .vitrine-botoes button.trailer {
        background: #555;
      }

      .vitrine-botoes button:hover {
        background: #17a944;
      }

      .vitrine-botoes button.trailer:hover {
        background: #444;
      }

      body.modo-claro .vitrine-card {
        background: #fff;
      }

      body.modo-claro .vitrine-info {
        color: #111;
        background: linear-gradient(to top, rgba(255,255,255,0.9), transparent);
      }

      body.modo-claro .vitrine-botoes button.trailer {
        background: #ccc;
        color: #000;
      }
  </style>
</head>
<body>
  <header>
    <div class="perfil-container">
      <button id="btn-perfil" aria-label="Abrir menu de perfil">‚öôÔ∏è</button>
      <ul id="menu-perfil" class="menu-perfil" role="menu" aria-label="Menu de Perfil">
        <li role="menuitem" tabindex="0" id="toggle-dark">üåô Alternar Dark Mode</li>
      </ul>
    </div>

    <div class="titulo-centralizado">
      <h1>
        <span class="kz-vermelho">Kz</span>
        <span class="kz-texto">Flix Filmes & S√©ries</span>
      </h1>
      <p>Desfrute das melhores produ√ß√µes!</p>
    </div>

    <div class="campo-busca">
      <input type="text" id="busca" placeholder="üîé Buscar por t√≠tulo ou g√™nero..." autocomplete="off" aria-label="Buscar por t√≠tulo ou g√™nero" />
      <ul id="lista-generos" class="lista-generos" role="listbox" tabindex="-1" aria-label="Lista de g√™neros">
        <li data-genero="all" tabindex="0" role="option">Todos</li>
        <li data-genero="a√ß√£o" tabindex="0" role="option">A√ß√£o</li>
        <li data-genero="aventura" tabindex="0" role="option">Aventura</li>
        <li data-genero="com√©dia" tabindex="0" role="option">Com√©dia</li>
        <li data-genero="drama" tabindex="0" role="option">Drama</li>
        <li data-genero="terror" tabindex="0" role="option">Terror</li>
        <li data-genero="fic√ß√£o cient√≠fica" tabindex="0" role="option">Fic√ß√£o Cient√≠fica</li>
        <li data-genero="fantasia" tabindex="0" role="option">Fantasia</li>
        <li data-genero="document√°rio" tabindex="0" role="option">Document√°rio</li>
        <li data-genero="anima√ß√£o" tabindex="0" role="option">Anima√ß√£o</li>
      </ul>
    </div>
  </header>
  <div class="filtros" role="group" aria-label="Filtros de tipo">
    <button class="active" data-type="all" aria-pressed="true">Todos</button>
    <button data-type="movie" aria-pressed="false">Filmes</button>
    <button data-type="series" aria-pressed="false">S√©ries</button>
    <button
      id="btn-home"
      style="margin-left: 10px; padding: 10px 20px; border: none; background: #e50914; color: white; border-radius: 5px; cursor: pointer; display: none;"
    >
      Sair da pesquisa
    </button>
  </div>
  <section id="lancamentos" style="margin: 40px 0;">
    <h2 class="secao-titulo">üî• Adicionados Recentemente</h2>
    <div class="vitrine-scroll" id="vitrine-lancamentos">
      <!-- Os lan√ßamentos ser√£o inseridos aqui -->
    </div>
  </section>


  <main>
    <div class="lista" id="lista" aria-live="polite" aria-label="Lista de filmes e s√©ries"></div>
    <button id="btn-carregar-mais" style="display:none; margin: 20px auto; padding: 12px 24px; font-size: 16px; border-radius: 6px; background: #1db954; color: white; border: none; cursor: pointer; display: block;">
    Carregar mais
    </button>

  </main>

  <!-- Modal Epis√≥dios -->
  <div id="modal-episodios" role="dialog" aria-modal="true" aria-labelledby="modal-titulo" tabindex="-1">
    <div class="modal-conteudo">
      <h2 id="modal-titulo"></h2>
      <label for="select-temporada">Selecione a temporada:</label>
      <select id="select-temporada" aria-label="Selecione a temporada"></select>
      <label for="select-episodio">Selecione o epis√≥dio:</label>
      <select id="select-episodio" aria-label="Selecione o epis√≥dio"></select>
      <button id="btn-assistir-episodio" aria-label="Assistir epis√≥dio selecionado">‚ñ∂Ô∏è Assistir Epis√≥dio</button>
      <button id="btn-fechar-modal" style="background:#e50914; margin-top:10px;">‚ùå Fechar</button>
    </div>
  </div>

  <!-- Modal Player -->
  <div id="modal-player" role="dialog" aria-modal="true" tabindex="-1">
    <div>
      <button class="fechar-player" aria-label="Fechar player">‚ùå</button>
      <iframe
        id="iframe-player"
        src=""
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
        title="Player de v√≠deo"
      ></iframe>
    </div>
  </div>
<script>
    const dados = [
      {
        id: 1,
        tipo: "movie",
        titulo: "Pecadores",
        descricao:
          "Um terror g√≥tico e musical ambientado no sul dos EUA nos anos 1930, onde vampiros racistas enfrentam m√∫sicos negros em uma batalha por alma, cultura e sobreviv√™ncia.",
        imagem: "imagens/pecadores.jpg",
        video:
          "https://drive.google.com/file/d/1-VvLUBMOAhIjrcJiB2_ileQxgTKKbZvM/preview",
        trailer: "https://www.youtube.com/embed/V3spHR5x5QY",
        generos: ["terror", "suspense", "drama"],
      },
      {
        id: 2,
        tipo: "series",
        titulo: "Stranger Things",
        descricao: "Um grupo de amigos enfrenta eventos sobrenaturais em sua cidade.",
        imagem: "imagens/stranger-things.jpg",
        temporadas: [
          {
            numero: 1,
            episodios: [
              {
                numero: 1,
                titulo: "O Desaparecimento de Will Byers",
                video:
                  "https://drive.google.com/file/d/10_1wujyB8LFZ7ssQbN3QJub2bGfwagAU/preview",
              },
              {
                numero: 2,
                titulo: "A Estranha da Maple Street",
                video:
                  "https://drive.google.com/file/d/10_WLJCixI5bjOUsM0YPXlCwr_Uv2DlFI/preview",
              },
              {
                numero: 3,
                titulo: "Caramba",
                video:
                  "https://drive.google.com/file/d/1246KSteW2dm7Zd4eTNNiLU4GkS0GtlQx/preview",
              },
              {
                numero: 4,
                titulo: "O Corpo",
                video:
                  "https://drive.google.com/file/d/124mATi0t5ToEo1A_cGObKmkJ1cxLOyi6/preview",
              },
              {
                numero: 5,
                titulo: "A Pulga e o Acrobata",
                video:
                  "https://drive.google.com/file/d/10-6UqEj83aG9wcIeJwJRU_Fyd8KANiZn/preview",
              },
              {
                numero: 6,
                titulo: "O Monstro",
                video:
                  "https://drive.google.com/file/d/12Ot2VL_0xVTsoGppz-zt2GgAF7cRpAFj/preview",
              },
              {
                numero: 7,
                titulo: "A Banheira",
                video:
                  "https://drive.google.com/file/d/12QzD7n6oouZyR6qXGR6VbaNMKh75fTGR/preview",
              },
              {
                numero: 8,
                titulo: "O Mundo Invertido",
                video:
                  "https://drive.google.com/file/d/109XCvlL9k5oTWrbK_79LrFh0cNzWBkNd/preview",
              },
            ],
          },
          {
            numero: 2,
            episodios: [
              {
                numero: 1,
                titulo: "MADMAX",
                video:
                  "https://drive.google.com/file/d/10eScNqZgMQPnMRecFgsFaKZeogd1zqve/preview",
              },
              {
                numero: 2,
                titulo: "Gostosuras ou Travessuras, Esquisit√£o",
                video:
                  "https://drive.google.com/file/d/10eis8dY32cPg9bWkXx0A0KnMK9tBdrNn/preview",
              },
              {
                numero: 3,
                titulo: "O Girino",
                video:
                  "https://drive.google.com/file/d/12kJiUYeWA7B7xgnNFzn1lzDESZ38fs0u/preview",
              },
              {
                numero: 4,
                titulo: "Will, o S√°bio",
                video:
                  "https://drive.google.com/file/d/12ko1gnjyN8p6-8Svwnvy4qrQx0yDX8y5/preview",
              },
              {
                numero: 5,
                titulo: "Dig Dug",
                video:
                  "https://drive.google.com/file/d/12lCcglwQwu4Gm4N-CUaBQC7ZICRowwHR/preview",
              },
              {
                numero: 6,
                titulo: "O Espi√£o",
                video:
                  "https://drive.google.com/file/d/12rZJP9B-tfu7szFmXfQOHDGOlD-sYmfX/preview",
              },
              {
                numero: 7,
                titulo: "A Irm√£ Perdida",
                video:
                  "https://drive.google.com/file/d/12shE-9QYdWqfUV2scu_VUHbZeYHQnsDg/preview",
              },
              {
                numero: 8,
                titulo: "Devorador de Mentes",
                video:
                  "https://drive.google.com/file/d/12x1zwpzAHKi6zVG4INtPdOG6hzbBobF-/preview",
              },
              {
                numero: 9,
                titulo: "O Portal",
                video:
                  "https://drive.google.com/file/d/1-9bJDjKaFUuHhk8XtCPDn7hWsfwV3Sf7/preview",
              },
            ],
          },
          {
            numero: 3,
            episodios: [
              {
                numero: 1,
                titulo: "Est√° me ouvindo, Suzie?",
                video:
                  "https://drive.google.com/file/d/1-pjTGDGnB3bIM_Q2YWBMnBEPhKs8QfMr/preview",
              },
              {
                numero: 2,
                titulo: "O caso dos ratos",
                video:
                  "https://drive.google.com/file/d/1-wk42grROqnHekZlISTehWyFwHc3H90O/preview",
              },
              {
                numero: 3,
                titulo: "A salva‚Äëvidas desaparecida",
                video:
                  "https://drive.google.com/file/d/10-6Hs0iAkFLX9gBhFyKEkCrYsbII3sa5/preview",
              },
              {
                numero: 4,
                titulo: "A prova da sauna",
                video:
                  "https://drive.google.com/file/d/1-xic4jherQedP1oLLokl83O56wcwwY5C/preview",
              },
              {
                numero: 5,
                titulo: "Os devorados",
                video:
                  "https://drive.google.com/file/d/104zxQzMrmRjphMjN_aw8H1hJVyAYcuAo/preview",
              },
              {
                numero: 6,
                titulo: "mantido como E Pluribus Unum",
                video:
                  "https://drive.google.com/file/d/1064IMqsw6NYzTpz7d3MhILWTfELDegyT/preview",
              },
              {
                numero: 7,
                titulo: "A mordida",
                video:
                  "https://drive.google.com/file/d/10-yZZKOewJrTUEX6QuMYOSh4ys1m9laM/preview",
              },
              {
                numero: 8,
                titulo: "A batalha de Starcourt",
                video:
                  "https://drive.google.com/file/d/10-prdN69rpI8tHHAZ79QwEfmn9UBDlm0/preview",
              },
            ],
          }, 
          {
            numero: 4,
            episodios: [
              {
                numero: 1,
                titulo: "O Clube Hellfire",
                video:
                  "https://drive.google.com/file/d/10GsgJxBxJXxlmtDpL6feyvoaht7aL6X_/preview",
              },
              {
                numero: 2,
                titulo: "A Maldi√ß√£o de Vecna",
                video:
                  "https://drive.google.com/file/d/10JUsSPiBDd942kHbikDuwWX4Tb9Ds1p_/preview",
              },
              {
                numero: 3,
                titulo: "O Monstro e a Super-Hero√≠na",
                video:
                  "https://drive.google.com/file/d/10VO9m9xEx4X6aJ0uYJkD8346K6vAaltI/preview",
              },
              {
                numero: 4,
                titulo: "Querido Billy",
                video:
                  "https://drive.google.com/file/d/10_ar8jf04qQYlFG1_6n5TzpYK5wXJezE/preview",
              },
              {
                numero: 5,
                titulo: "Projeto Nina",
                video:
                  "https://drive.google.com/file/d/10_j1FtWPTMRO3HJCk_-BfoGUr8Pw0z0w/preview",
              },
              {
                numero: 6,
                titulo: "Mergulho",
                video:
                  "https://drive.google.com/file/d/10_tplDZjiTfSLvB0U4BTc87aHW8b5zw1/preview",
              },
              {
                numero: 7,
                titulo: "O Massacre no Laborat√≥rio de Hawkins",
                video:
                  "https://drive.google.com/file/d/10j65quYuD73aD6LzTarqWhzCy5Arw3_F/preview",
              },
              {
                numero: 8,
                titulo: "Papai",
                video:
                  "https://drive.google.com/file/d/10mrcHoLLMCu9-FVLpA-qA5jPgNvUmRZX/preview",
              },
              {
                numero: 9,
                titulo: "O Plano de Onze",
                video:
                  "https://drive.google.com/file/d/10rJxdsh5qesA8Un3hEr6BPHE4MAIaiW9/preview",
              },
            ],
          },                                
        ],
        trailer: "https://www.youtube.com/embed/mnd7sFt5c3A",
        generos: ["drama", "fic√ß√£o cient√≠fica", "terror"],
      },
      {
        id: 3,
        tipo: "movie",
        titulo: "Homem-Aranha: Atrav√©s do Aranhaverso",
        descricao:
          "Miles Morales viaja por universos paralelos e enfrenta um multiverso de Homens-Aranha.",
        imagem: "imagens/homem-aranha-atraves-do-aranhaverso.jpg",
        video:
          "https://drive.google.com/file/d/12ZGCSys7_TfVhnrIRkwG12IuryvIfdav/preview",
        trailer: "https://www.youtube.com/embed/uhkDkurK0Zg",
        generos: ["a√ß√£o", "anima√ß√£o", "fic√ß√£o cient√≠fica"],
      },
      {
        id: 4,
        tipo: "series",
        titulo: "Cobra Kai",
        descricao:
          "Continuando a rivalidade do Karate Kid, jovens reativam o dojo Cobra Kai.",
        imagem: "imagens/cobra-kai.jpg",
        temporadas: [
          {
            numero: 1,
            episodios: [
              {
                numero: 1,
                titulo: "O Degenerado N√∫mero Um",
                video:
                  "https://drive.google.com/file/d/1eKIx5dwkAvsxcEA3J5KX7O-xQlAZnJ_U/preview",
              },
              {
                numero: 2,
                titulo: "Ataque Primeiro",
                video:
                  "https://drive.google.com/file/d/1ciQMq-QOwQMeWR79bF2-Upf5LgzPnqQ3/preview",
              },
              {
                numero: 3,
                titulo: "Esqueleto",
                video:
                  "https://drive.google.com/file/d/12wpo9-WSp1ZnHpNVQIGqwZXgQ0FzPs4F/preview",
              },
              {
                numero: 4,
                titulo: "O Cobra Kai nunca morre",
                video:
                  "https://drive.google.com/file/d/12zzCm_pzr68L84q5FkifilcNTjtvA0d1/preview",
              },
              {
                numero: 5,
                titulo: "Contrapeso",
                video:
                  "https://drive.google.com/file/d/10H0a1Lg4DFR5W9enRVDpHfbJuC6Q2gvV/preview",
              },
              {
                numero: 6,
                titulo: "Grupo de cobras",
                video:
                  "https://drive.google.com/file/d/13BFYksJDpnTfS9H4v7y6fJGS0T7bR2dY/preview",
              },
              {
                numero: 7,
                titulo: "All Valley",
                video:
                  "https://drive.google.com/file/d/13KzpxjUfiveereT_QUKK86yhG8XSx-2N/preview",
              },
              {
                numero: 8,
                titulo: "Mudan√ßa de pele",
                video:
                  "https://drive.google.com/file/d/10wm8n0Q1_H-erKDbMz7BVC2j55k8sBOR/preview",
              },
              {
                numero: 9,
                titulo: "Diferentes mas iguais",
                video:
                  "https://drive.google.com/file/d/114Rtts9-MXi_Tx1wot4RxA67Pg0eLQWQ/preview",
              },
              {
                numero: 10,
                titulo: "Compaix√£o",
                video:
                  "https://drive.google.com/file/d/113ouzfKcE44wejHsNK3yXH_JefpF-_Ft/preview",
              },
            ],
          },
        ],
        trailer: "https://www.youtube.com/embed/xCwwxNbtK6Y",
        generos: ["a√ß√£o", "drama"],
      },
      {
        id: 5,
        tipo: "movie",
        titulo: "Sorria",
        descricao:
          "Ap√≥s presenciar um evento traum√°tico, uma terapeuta come√ßa a vivenciar eventos assustadores.",
        imagem: "imagens/sorria.jpg",
        video:
          "https://drive.google.com/file/d/1-YpwEhiJZBieq3DZom2PZFvLVW2LJd6N/preview",
        trailer: "https://www.youtube.com/embed/BcDK7lkzzsU",
        generos: ["terror", "drama"],
      },
      {
        id: 6,
        tipo: "series",
        titulo: "Round 6",
        descricao:
          "Centenas de pessoas com dificuldades financeiras aceitam um convite para participar de jogos mortais valendo um grande pr√™mio em dinheiro.",
        imagem: "imagens/round-6.jpg",
        temporadas: [
          {
            numero: 1,
            episodios: [
              {
                numero: 1,
                titulo: "Luz Vermelha, Luz Verde",
                video:
                  "https://drive.google.com/file/d/1plAblGZJOYvfpaUkiOvZRS965JuDATPt/preview",
              },
              {
                numero: 2,
                titulo: "Inferno",
                video:
                  "https://drive.google.com/file/d/165hBLBc7qJetgp3d7NFquYSrdFKE4OL1/preview",
              },
              {
                numero: 3,
                titulo: "O Homem do Guarda-Chuva",
                video:
                  "https://drive.google.com/file/d/168-iztih5KB9JZzFyld_IWRe3iRmKqko/preview",
              },
              {
                numero: 4,
                titulo: "Permane√ßam Juntos",
                video:
                  "https://drive.google.com/file/d/168Be9u375lh8o3d7BzHpbIBIxOIG0jnB/preview",
              },
              {
                numero: 5,
                titulo: "Um Mundo Justo",
                video:
                  "https://drive.google.com/file/d/16CT1-nbETzJOVLP-DeaMb34I_aG3Twwm/preview",
              },
              {
                numero: 6,
                titulo: "Bolinhas",
                video:
                  "https://drive.google.com/file/d/16GIMa-7v50JOtvtwwdzYrVeUh0WFHjcG/preview",
              },
              {
                numero: 7,
                titulo: "VIPs",
                video:
                  "https://drive.google.com/file/d/16LQCb7Xi71vHFMAy0M8XV3AkaH95vhL4/preview",
              },
              {
                numero: 8,
                titulo: "O Homem de M√°scara",
                video:
                  "https://drive.google.com/file/d/16XTerbnW_3CfiGx-26wHHjc_iBnzTV5x/preview",
              },
              {
                numero: 9,
                titulo: "Um Dia de Sorte",
                video:
                  "https://drive.google.com/file/d/16_m0OF95EcGnL0d7f2lTPuJoNZe8VYaj/preview",
              },
            ],
          },
          {
            numero: 2,
            episodios: [
              {
                numero: 1,
                titulo: "P√£o e loteria",
                video:
                  "https://drive.google.com/file/d/1-DEqWPiCH3Fa5huZ16NJkyImXIKn0mn3/preview",
              },
              {
                numero: 2,
                titulo: "Festa de Halloween",
                video:
                  "https://drive.google.com/file/d/1-DMqFIOWMjJ7clzxX9GIeh2bM6Ye5b_h/preview",
              },
              {
                numero: 3,
                titulo: "001",
                video:
                  "https://drive.google.com/file/d/1-EjrF5YGVmS-Zpf6cHALTaX0CfdfTX7Z/preview",
              },
              {
                numero: 4,
                titulo: "Seis pernas",
                video:
                  "https://drive.google.com/file/d/1-GAx5WoRSLbrRsWiinGQqsQX5EaZB4Gq/preview",
              },
              {
                numero: 5,
                titulo: "Mais um jogo",
                video:
                  "https://drive.google.com/file/d/1-HB2yLA2bLHVi4Xm2Gkg47o7Rxw3SlVj/preview",
              },
              {
                numero: 6,
                titulo: "0 X",
                video:
                  "https://drive.google.com/file/d/1-HSSIvXIpUCgRAHROjuevSwkur66OH0t/preview",
              },
              {
                numero: 7,
                titulo: "Amigos ou inimigos?",
                video:
                  "https://drive.google.com/file/d/1-JolDVAyIfwVmg3BJEgosKImdu8ByIi-/preview",
              },
            ],
          },
          {
            numero: 3,
            episodios: [
              {
                numero: 1,
                titulo: "Chaves e facas",
                video:
                  "https://drive.google.com/file/d/1-MCw1KdTiRNvO8KB5n9-L7doK5WqWKCE/preview",
              },
              {
                numero: 2,
                titulo: "Noite estrelada",
                video:
                  "https://drive.google.com/file/d/1-N9vW1aFWCzFuOY5FQ7IeNCTAEhhNTwB/preview",
              },
              {
                numero: 3,
                titulo: "N√£o √© culpa sua",
                video:
                  "https://drive.google.com/file/d/1-QF6s40AIBTBzt0AoQfoypii8bPw39Mp/preview",
              },
              {
                numero: 4,
                titulo: "222",
                video:
                  "https://drive.google.com/file/d/1-TJ3aoQt6OTHSpoUmTX_b0Nyc7gC3Sse/preview",
              },
              {
                numero: 5,
                titulo: "‚óã‚ñ≥‚ñ°",
                video:
                  "https://drive.google.com/file/d/1-TU3MzisTGl7C54Pr_iY0OSvlkZBDSyh/preview",
              },
              {
                numero: 6,
                titulo: "Humanos",
                video:
                  "https://drive.google.com/file/d/1-ajNJxcGW27vaOlSzSwnahqVo42fCIBK/preview",
              },
            ],
          },
        ],
        trailer: "https://www.youtube.com/embed/oqxAJKy0ii4",
        generos: ["drama", "suspense", "a√ß√£o"],
      },
      {
        id: 7,
        tipo: "movie",
        titulo: "Vingadores: Ultimato",
        descricao:
          "Os Vingadores restantes se unem para desfazer as a√ß√µes de Thanos e restaurar o universo.",
        imagem: "imagens/vingadores-ultimato.jpg",
        video:
          "https://drive.google.com/file/d/1-WpCJYdLf1P5qSM4eHbiv5PRxY7NMZ-3/preview",
        trailer: "https://www.youtube.com/embed/TcMBFSGVi1c",
        generos: ["a√ß√£o", "aventura", "fic√ß√£o cient√≠fica"],
      },
      {
        id: 8,
        tipo: "series",
        titulo: "Naruto",
        descricao:
          "Centenas de pessoas com dificuldades financeiras aceitam um convite para participar de jogos mortais valendo um grande pr√™mio em dinheiro.",
        imagem: "imagens/naruto.jpg",
        temporadas: [
          {
            numero: 1,
            episodios: [
              {
                numero: 1,
                titulo: "Uzumaki Naruto Chega!",
                video:
                  "https://drive.google.com/file/d/11rk7hZ-_ojYspVZNBSvV30sKKsk0WzO1/preview",
              },
              {
                numero: 2,
                titulo: "Meu Nome √© Konohamaru!",
                video:
                  "https://drive.google.com/file/d/11sdNfqjVtoUz8-VPJp3SxQx2nwBOJC7w/preview",
              },
              {
                numero: 3,
                titulo: "Sasuke e Sakura: Amigos ou Inimigos?",
                video:
                  "https://drive.google.com/file/d/11xQUrRiU7i2fB9bOXpctnHtMFjqadcLA/preview",
              },
              {
                numero: 4,
                titulo: "Passar ou Falhar ‚Äî Um Teste de Sobreviv√™ncia!",
                video:
                  "https://drive.google.com/file/d/11tNk1OcyTs9FsIQxx8ETEA8Y_LvjMAB_/preview",
              },
              {
                numero: 5,
                titulo: "Voc√™ Fracassou! A Decis√£o Final de Kakashi",
                video:
                  "https://drive.google.com/file/d/120jKvYbSSy3KBrp_WO02PaRni5Arr785/preview",
              },
              {
                numero: 6,
                titulo: "Uma Miss√£o Perigosa! Aventura ao Pa√≠s das Ondas!",
                video:
                  "https://drive.google.com/file/d/12-5yqaXdEVfXjfjt-QhjLLOubcY8-Exf/preview",
              },
              {
                numero: 7,
                titulo: "O Assassino da N√©voa",
                video:
                  "https://drive.google.com/file/d/122y9rEeuC-hXyG1Bjdc0v9hkvcN0ENeC/preview",
              },
              {
                numero: 8,
                titulo: "O Juramento de sangue",
                video:
                  "https://drive.google.com/file/d/125FawxQZqUo1nW8ov7z2M7jFgSi1XBxK/preview",
              },
              {
                numero: 9,
                titulo: "Kakashi: O ninja que copia",
                video:
                  "https://drive.google.com/file/d/124kHtDEI_x2zQXbdrxh_h2Gu4zlt71XE/preview",
              },
              {
                numero: 10,
                titulo: "A Floresta do Chakra",
                video:
                  "https://drive.google.com/file/d/12Boap-89AvJ8__ODTK0KJlC0zQleen45/preview",
              },
            ],
          },
        ],
        trailer: "https://www.youtube.com/embed/QczGoCmX-pI",
        generos: ["a√ß√£o", "aventura", "fantasia", "drama"],
      },
      {
        id: 9,
        tipo: "movie",
        titulo: "Ainda estou aqui",
        descricao:
          "Ainda Estou Aqui √© um drama emocionante que retrata o luto, o amor e a luta de uma jovem para manter viva a mem√≥ria do namorado ap√≥s sua morte.",
        imagem: "imagens/ainda-estou-aqui.jpg",
        video:
          "https://drive.google.com/file/d/16g0QWKerQvxBJtnOTFppz9nA_3moLbDh/preview",
        trailer: "http://www.youtube.com/embed/Inl8WuKkQfQ",
        generos: ["drama", "romance"],
      },
      {
        id: 10,
        tipo: "movie",
        titulo: "Divertidamente 2",
        descricao:
          "Riley enfrenta novas emo√ß√µes na adolesc√™ncia, incluindo Ansiedade, Inveja e Vergonha.",
        imagem: "imagens/divertidamente-2.jpg",
        video:
          "https://drive.google.com/file/d/12N8oGT62UlTothlQ7KKx1qm1heUaFAt0/preview",
        trailer: "https://www.youtube.com/embed/yAZxx8t9zig",
        generos: ["anima√ß√£o", "com√©dia", "aventura"],
      },
      {
      id: 11,
        tipo: "movie",
        titulo: "Gente grande",
        descricao:
          "Um grupo de amigos de inf√¢ncia se reencontra ap√≥s muitos anos para reviver momentos divertidos e ca√≥ticos em um fim de semana juntos.",
        imagem: "imagens/gente-grande.jpg",
        video:
          "https://drive.google.com/file/d/12_JTNRo6Su0Q1V2VOMKnaMM1pkDIpHT8/preview",
        trailer: "https://www.youtube.com/embed/HKVve_VSz58",
        generos: ["com√©dia", "familia"],
      },
      {
        id: 12,
        tipo: "movie",
        titulo: "Bird Box",
        descricao:
          "Bird Box mostra uma m√£e e seus filhos tentando sobreviver vendados a criaturas que enlouquecem quem as v√™.",
        imagem: "imagens/bird-box.jpg",
        video:
          "https://drive.google.com/file/d/1-66Xx8Gdp9vHl8yko0SGivucY92dnL2o/preview",
        trailer: "https://www.youtube.com/embed/o2AsIXSh2xo",
        generos: ["terror", "drama"],
      },
      {
        id: 13,
        tipo: "movie",
        titulo: "Tropa de Elite",
        descricao:
          "Um capit√£o do BOPE enfrenta a viol√™ncia do tr√°fico e os dilemas morais da guerra urbana no Rio de Janeiro.",
        imagem: "imagens/tropa-de-elite.jpg",
        video:
          "https://drive.google.com/file/d/118bEax43b4FWj5MZ38zZbXF_1zozmLaF/preview",
        trailer: "https://www.youtube.com/embed/uZBiNJQxtGw?si=-fO313EZbdesbqYG",
        generos: ["a√ß√£o", "drama"],
      },
      {
        id: 14,
        tipo: "movie",
        titulo: "Tropa de Elite 2",
        descricao:
          "Agora como subsecret√°rio de seguran√ßa, Nascimento enfrenta a corrup√ß√£o sist√™mica do Estado enquanto lida com conflitos pessoais e pol√≠ticos.",
        imagem: "imagens/tropa-de-elite-2.jpg",
        video:
          "https://drive.google.com/file/d/15xR0cVYbGhlvYrKsfqKBI0X9BwSvNT6G/preview",
        trailer: "http://www.youtube.com/embed/O8YrtINB5oI",
        generos: ["a√ß√£o", "drama"],
      },
    ];

    const lista = document.getElementById("lista");
    let dadosFiltrados = [];
    let limiteInicial = 0;
    const QUANTIDADE_POR_PAGINA = 10;
    const botoes = document.querySelectorAll(".filtros button");
    const campoBusca = document.getElementById("busca");
    const listaGeneros = document.getElementById("lista-generos");

    const modalEpisodios = document.getElementById("modal-episodios");
    const modalTitulo = document.getElementById("modal-titulo");
    const selectTemporada = document.getElementById("select-temporada");
    const selectEpisodio = document.getElementById("select-episodio");
    const btnAssistirEpisodio = document.getElementById("btn-assistir-episodio");
    const btnFecharModal = document.getElementById("btn-fechar-modal");

    const modalPlayer = document.getElementById("modal-player");
    const iframePlayer = document.getElementById("iframe-player");
    const btnFecharPlayer = modalPlayer.querySelector(".fechar-player");


    let tipoFiltro = "all";
    let filtroGenero = "all";
    let serieAtual = null; // <-- Adiciona vari√°vel global para guardar a s√©rie aberta

    // Exibir lista inicial
    exibirLista(dados, true);

    // Filtrar por tipo (Filme, S√©rie, Todos)
    botoes.forEach((botao) => {
      botao.addEventListener("click", () => {
        botoes.forEach((b) => {
          b.classList.remove("active");
          b.setAttribute("aria-pressed", "false");
        });
        botao.classList.add("active");
        botao.setAttribute("aria-pressed", "true");
        tipoFiltro = botao.getAttribute("data-type");
        campoBusca.value = "";
        filtroGenero = "all";
        listaGeneros.style.display = "none";
        exibirLista(filtrarDados(), true);
        document.getElementById("btn-home").style.display = tipoFiltro === "all" ? "none" : "inline-block";
      });
    });

    // Bot√£o sair da pesquisa
    document.getElementById("btn-home").addEventListener("click", () => {
      tipoFiltro = "all";
      filtroGenero = "all";
      campoBusca.value = "";
      listaGeneros.style.display = "none";
      botoes.forEach((b) => {
        b.classList.remove("active");
        b.setAttribute("aria-pressed", "false");
      });
      botoes[0].classList.add("active");
      botoes[0].setAttribute("aria-pressed", "true");
      exibirLista(dados, true);
      document.getElementById("btn-home").style.display = "none";
    });

    // Mostrar/ocultar lista de g√™neros
    campoBusca.addEventListener("focus", () => {
      listaGeneros.style.display = "block";
    });

    campoBusca.addEventListener("blur", () => {
      setTimeout(() => {
        listaGeneros.style.display = "none";
      }, 150);
    });

    // Sele√ß√£o de g√™nero da lista
    listaGeneros.querySelectorAll("li").forEach((item) => {
      item.addEventListener("click", () => {
        filtroGenero = item.getAttribute("data-genero");
        campoBusca.value = filtroGenero === "all" ? "" : filtroGenero;
        exibirLista(filtrarDados(), true);
        listaGeneros.style.display = "none";
      });
      item.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          item.click();
        }
      });
    });

    // Busca por t√≠tulo ou g√™nero no campo de busca
    campoBusca.addEventListener("input", () => {
      filtroGenero = campoBusca.value.toLowerCase();
      exibirLista(filtrarDados(), true);
    });

    // Fun√ß√£o que filtra os dados de acordo com os filtros
    function filtrarDados() {
      return dados.filter((item) => {
        const tipoOk = tipoFiltro === "all" || item.tipo === tipoFiltro;
        const buscaTexto = campoBusca.value.trim().toLowerCase();

        // Verificar busca no t√≠tulo
        const buscaTitulo = item.titulo.toLowerCase().includes(buscaTexto);

        // Verificar busca no g√™nero
        const buscaGenero =
          filtroGenero === "all" ||
          item.generos.some((g) => g.toLowerCase().includes(filtroGenero));

        return tipoOk && (buscaTitulo || buscaGenero);
      });
    }

    // Fun√ß√£o para exibir lista de filmes e s√©ries
    function exibirLista(listaDados, reset = true) {
    const btnMais = document.getElementById("btn-carregar-mais");

    if (reset) {
      lista.innerHTML = "";
      limiteInicial = 0;
      dadosFiltrados = listaDados;
    }

    const proximoLote = dadosFiltrados.slice(limiteInicial, limiteInicial + QUANTIDADE_POR_PAGINA);

    if (proximoLote.length === 0 && limiteInicial === 0) {
      lista.innerHTML = "<p style='text-align:center;'>Nenhum resultado encontrado.</p>";
      btnMais.style.display = "none";
      return;
    }

    proximoLote.forEach((item) => {
      const card = document.createElement("article");
      card.className = "card";
      card.setAttribute("tabindex", "0");
      card.setAttribute("role", "region");
      card.setAttribute("aria-label", item.titulo);

      const img = document.createElement("img");
      img.src = item.imagem;
      img.alt = `Imagem do ${item.tipo === "movie" ? "filme" : "s√©rie"} ${item.titulo}`;

      const cardBody = document.createElement("div");
      cardBody.className = "card-body";

      const titulo = document.createElement("h3");
      titulo.className = "card-title";
      titulo.textContent = item.titulo;

      const desc = document.createElement("p");
      desc.className = "card-desc";
      desc.textContent = item.descricao;

      cardBody.appendChild(titulo);
      cardBody.appendChild(desc);

      const btnAssistir = document.createElement("button");
      btnAssistir.className = "assistir-btn";
      btnAssistir.textContent = item.tipo === "movie" ? "‚ñ∂Ô∏è Assistir" : "‚ñ∂Ô∏è Assistir S√©rie";
      btnAssistir.setAttribute("aria-label", `Assistir ${item.tipo === "movie" ? "filme" : "s√©rie"} ${item.titulo}`);

      btnAssistir.addEventListener("click", () => {
        if (item.tipo === "movie") abrirModalPlayer(item.video);
        else abrirModalEpisodios(item);
      });
      const botoesContainer = document.createElement("div");
      botoesContainer.style.display = "flex";
      botoesContainer.style.flexWrap = "wrap";
      botoesContainer.style.gap = "10px";
      botoesContainer.style.marginTop = "10px";
      botoesContainer.appendChild(btnAssistir);

      if (item.trailer) {
        const btnTrailer = document.createElement("button");
        btnTrailer.className = "assistir-btn trailer";
        btnTrailer.textContent = "‚ñ∂Ô∏è Trailer";
        btnTrailer.addEventListener("click", () => abrirModalPlayer(item.trailer));
        botoesContainer.appendChild(btnTrailer);
      }

      cardBody.appendChild(botoesContainer);
      card.appendChild(img);
      card.appendChild(cardBody);
      lista.appendChild(card);
    });

    limiteInicial += QUANTIDADE_POR_PAGINA;
    btnMais.style.display = limiteInicial < dadosFiltrados.length ? "block" : "none";
}


    // Modal Epis√≥dios
    function abrirModalEpisodios(serie) {
      serieAtual = serie; // <-- Guarda a s√©rie atualmente aberta
      modalTitulo.textContent = `Temporadas de ${serie.titulo}`;
      selectTemporada.innerHTML = "";
      selectEpisodio.innerHTML = "";
      btnAssistirEpisodio.disabled = true;

      serie.temporadas.forEach((temp) => {
        const option = document.createElement("option");
        option.value = temp.numero;
        option.textContent = `Temporada ${temp.numero}`;
        selectTemporada.appendChild(option);
      });

      // Quando mudar a temporada, carregar os epis√≥dios
      selectTemporada.onchange = () => {
        carregarEpisodios(serie, Number(selectTemporada.value));
      };

      // Inicializa com a primeira temporada
      if (serie.temporadas.length > 0) {
        selectTemporada.value = serie.temporadas[0].numero;
        carregarEpisodios(serie, serie.temporadas[0].numero);
      }

      modalEpisodios.style.display = "flex";
      modalEpisodios.focus();

      btnFecharModal.onclick = fecharModalEpisodios;
    }

    function carregarEpisodios(serie, numTemporada) {
      selectEpisodio.innerHTML = "";
      const temporada = serie.temporadas.find((t) => t.numero === numTemporada);
      if (!temporada) return;

      temporada.episodios.forEach((epi) => {
        const option = document.createElement("option");
        option.value = epi.numero;
        option.textContent = `Epis√≥dio ${epi.numero} - ${epi.titulo}`;
        selectEpisodio.appendChild(option);
      });

      selectEpisodio.value = temporada.episodios[0].numero;
      btnAssistirEpisodio.disabled = false;
    }

    btnAssistirEpisodio.onclick = () => {
      const numTemp = Number(selectTemporada.value);
      const numEpi = Number(selectEpisodio.value);
      if (!serieAtual) return; // <-- Usa a s√©rie correta
      const temporada = serieAtual.temporadas.find((t) => t.numero === numTemp);
      if (!temporada) return;
      const episodio = temporada.episodios.find((e) => e.numero === numEpi);
      if (!episodio) return;
      abrirModalPlayer(episodio.video);
      fecharModalEpisodios();
    };

    function fecharModalEpisodios() {
      modalEpisodios.style.display = "none";
    }

    // Modal Player
    function abrirModalPlayer(link) {
      iframePlayer.src = link;
      modalPlayer.classList.add("show");
      modalPlayer.focus();
    }

    function fecharModalPlayer() {
      iframePlayer.src = "";
      modalPlayer.classList.remove("show");
    }


    btnFecharPlayer.onclick = fecharModalPlayer;

    // Fechar modal player ao clicar fora do iframe
    modalPlayer.addEventListener("click", (e) => {
      if (e.target === modalPlayer) {
        fecharModalPlayer();
      }
    });

    // Fechar modal epis√≥dios ao clicar fora
    modalEpisodios.addEventListener("click", (e) => {
      if (e.target === modalEpisodios) {
        fecharModalEpisodios();
      }
    });

    // Para fechar modais com ESC
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        if (modalPlayer.style.display === "flex") {
          fecharModalPlayer();
        }
        if (modalEpisodios.style.display === "flex") {
          fecharModalEpisodios();
        }
      }
    });
    const btnPerfil = document.getElementById("btn-perfil");
    const menuPerfil = document.getElementById("menu-perfil");
    const toggleDark = document.getElementById("toggle-dark");

    btnPerfil.addEventListener("click", () => {
      menuPerfil.style.display = menuPerfil.style.display === "block" ? "none" : "block";
    });

    // Fechar menu clicando fora
    document.addEventListener("click", (e) => {
      if (!menuPerfil.contains(e.target) && e.target !== btnPerfil) {
        menuPerfil.style.display = "none";
      }
    });

    // Alternar modo escuro
    toggleDark.addEventListener("click", () => {
      document.body.classList.toggle("modo-claro");
      localStorage.setItem("modo", document.body.classList.contains("modo-claro") ? "claro" : "escuro");
    });
    // Carregar tema salvo
    if (localStorage.getItem("modo") === "claro") {
      document.body.classList.add("modo-claro");
    }
    document.getElementById("btn-carregar-mais").addEventListener("click", () => {
    exibirLista(dadosFiltrados, false);
    });
    // Exibir lan√ßamentos recentes (com base em alguns t√≠tulos)
    const ordemDesejada = [
      "Round 6",
      "Pecadores",
      "Homem-Aranha: Atrav√©s do Aranhaverso",
      "Divertidamente 2",
      "Stranger Things",
      "Ainda estou aqui",
      "Gente grande",
    ];
    const lancamentosRecentes = ordemDesejada
    .map(titulo => dados.find(item => item.titulo === titulo))
    .filter(Boolean); // Remove itens n√£o encontrados


    const vitrineContainer = document.getElementById("vitrine-lancamentos");
    lancamentosRecentes.forEach((item, index) => {
    const card = document.createElement("div");
    card.className = "vitrine-card";

    const img = document.createElement("img");
    img.src = item.imagem;
    img.alt = `Imagem do lan√ßamento ${item.titulo}`;

    const info = document.createElement("div");
    info.className = "vitrine-info";

    const h3 = document.createElement("h3");
    h3.textContent = `${index + 1}. ${item.titulo}`;

    const botoes = document.createElement("div");
    botoes.className = "vitrine-botoes";

    const btnAssistir = document.createElement("button");
    btnAssistir.textContent = "‚ñ∂Ô∏è Assistir";
    btnAssistir.onclick = () => {
      if (item.tipo === "movie") abrirModalPlayer(item.video);
      else abrirModalEpisodios(item);
    };

    botoes.appendChild(btnAssistir);

    if (item.trailer) {
      const btnTrailer = document.createElement("button");
      btnTrailer.textContent = "‚ñ∂Ô∏è Trailer";
      btnTrailer.classList.add("trailer");
      btnTrailer.onclick = () => abrirModalPlayer(item.trailer);
      botoes.appendChild(btnTrailer);
    }

    info.appendChild(h3);
    info.appendChild(botoes);
    card.appendChild(img);
    card.appendChild(info);
    vitrineContainer.appendChild(card);
  });
</script>
</div>
</body>
</html>
